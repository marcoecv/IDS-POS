function getHtmlWagerGameItem(a,b,c){var d=a.WagerType,e=0,f="",g=d,h=b.WagerType,i=isNaN(parseFloat(a.TeaserPoints))?0:Math.abs(parseFloat(a.TeaserPoints));"S"==d&&(e=a.AdjSpread,g=getTextJs.sportbook_game_Spread,f=a.ChosenTeamID),"M"==d&&(g=getTextJs.sportbook_game_MoneyLine,f=a.ChosenTeamID),"L"==d&&(e=a.AdjTotalPoints,g=getTextJs.sportbook_game_Total+" - "+a.ChosenTeamID,f="U"==a.TotalPointsOU?" Under":" Over",i="U"==a.TotalPointsOU?i:-i),"E"==d&&(e=a.AdjTotalPoints,g="Team Total - "+a.ChosenTeamID,f="U"==a.TotalPointsOU?" Under":" Over",i="U"==a.TotalPointsOU?i:-i),e=parseFloat(e)+i;var j={betType:d,threshold:e,oddsUS:a.FinalMoney,oddsDecimal:a.FinalDecimal,oddsNumerator:a.FinalNumerator,oddsDenominator:a.FinalDenominator,enable:1,description:""},k=formatOdds(j,c);return e=formatThreshold(j),"T"==h&&(k=""),getHtmlWagerItem(a.PeriodDescription,g,f,e,k)}function getHtmlWagerContestItem(a,b,c){var d="C";(a.ThresholdType="P")&&(d="T"),(a.ThresholdType="S")&&(d="S");var e={betType:d,threshold:a.ThresholdLine,oddsUS:a.FinalMoney,oddsDecimal:a.FinalDecimal,oddsNumerator:a.FinalNumerator,oddsDenominator:a.FinalDenominator,enable:1,description:""},f=formatOdds(e,c),g=formatThreshold(e);return getHtmlWagerItem(a.ContestType2,a.ContestDesc,a.ContestantName,g,f)}function getHtmlWagerItem(a,b,c,d,e){var f="<div class='item border-top'><div class='visible-xs'><div>"+a+" "+b+"</div><div>"+c+" "+d+" "+e+"</div></div><div class='hidden-xs'>"+a+" "+b+": "+c+" "+d+" "+e+"</div></div>";return f}function getHtmlItemsWager(a,b){var c="";for(var d in a.wagerGameItems){var e=a.wagerGameItems[d];c+=getHtmlWagerGameItem(e,a,b)}for(var d in a.wagerContestItems){var e=a.wagerContestItems[d];c+=getHtmlWagerContestItem(e,a,b)}return c}function getFullDetails(a,b){var c="";if("undefined"!=typeof a.originalWagers)for(var d in a.originalWagers)c+=getHtmlWager(a.originalWagers[d],b);return c}function countOpenSelections(a){var b=parseInt(a.TotalPicks);for(var c in a.wagerGameItems)b--;for(var c in a.wagerContestItems)b--;return b}function getHtmlWager(a,b,c){getwagervalidator==a.TicketNumber?getwager++:getwager=1,getwagervalidator=a.TicketNumber,c<5&&currentPage++;var d=(c<5?"<div id='p"+c+'\' class="pagedemo _current" style=""><div class=\'wager panel panel-default\'  >':"<div id='p"+c+'\' class="pagedemo " style="display: none;"><div class=\'wager panel panel-default\'  >')+"<div class='panel-heading pannel-heading-1'><div class='panel-title'>"+getTextJs.sportbook_wagerReport_TicketNumber+": "+a.TicketNumber+"</div></div><div class='panel-body detailsWrap'><div class='details'><div class='date'>"+getTextJs.sportbook_wagerReport_ACCEPTED+" : "+formatDateTimeAndDay(a.PostedDateTime)+"</div><div class='date'>"+getTextJs.sportbook_wagerReport_WAGETTYPE+" : "+a.WagerType+"</div><div class='amount'>"+getTextJs.sportbook_wagerReport_RISKTOWIN+" : "+FixedNumbers(a.AmountWagered)+" / "+FixedNumbers(a.ToWinAmount)+"</div><div class='date'>"+getTextJs.sportbook_wagerReport_SHORTDESCRIPTION+" : "+a.Description+'</div><center> <a data-toggle="collapse" id=\'a'+c+"' data-parent=\"#accordion\" onclick='GetWagerDetail("+a.TicketNumber+","+c+","+getwager+", this);' href=\"#collapse"+c+'">More information '+a.TicketNumber+'</a> \n                              <div id="collapse'+c+'" class="panel-collapse collapse"><div class="panel-body"><div class=\'date\' id=\'id_wagerdetail'+a.TicketNumber+"_"+c+"_"+getwager+"' ></div></div></div></div></center><div class='margin-top'></div></div><div class='fullDetails secret'></div></div></div></div>";return d}function getHtmlWagers(a,b){var c="";for(var d in a)c+=getHtmlWager(a[d],b);return c}function makeIndexWagers(a){var b={};for(var c in a){var d=a[c],e=d.TicketNumber+"_"+d.WagerNumber;d.wagerId=e,b[e]=d}return b}function loadWagers(a,b,c){if(createCookie("selectedSideCanvas","center",""),0==b){var d="/Sportbook/loadWagersPendRep";$.ajax({url:d,dataType:"json",cache:!0,data:{pending:a,openBets:b},success:function(b){$("#wpr_accordion div").remove();var c=$("#wpr_accordion");$.each(b,function(b,d){c.append(printWagers(d,a))}),$("#wagersReportWrap .overlay").fadeOut()}});var d="/Sportbook/loadWagersPendRep";$.ajax({url:d,dataType:"json",cache:!0,data:{pending:a,openBets:1},success:function(b){var c=$("#wpr_accordion");$.each(b,function(b,d){c.append(printWagers(d,a))}),$("#wagersReportWrap .overlay").fadeOut()}})}else{var d="/Sportbook/loadWagersPendRep";$.ajax({url:d,dataType:"json",cache:!0,data:{pending:a,openBets:b},success:function(b){$("#wpr_accordion div").remove();var c=$("#wpr_accordion");$.each(b,function(b,d){c.append(printWagers(d,a))}),$("#wagersReportWrap .overlay").fadeOut()}})}}function printWagers(a,b){var c="<div class='accordion-group borderedWagerDiv'><div  class='accordion-heading wtr_headerDiv'><div class='wpr_headerWagerDiv'><span>"+a.TicketNumber+"_"+a.WagerNumber+"</span><a style='float:right' class='accordion-toggle' onclick='GetWagerDetail("+a.TicketNumber+","+a.WagerNumber+", this)' data-toggle='collapse' data-parent='#wpr_accordion' href='#'><i id='"+a.TicketNumber+"_"+a.WagerNumber+"_i' class='glyphicon glyphicon-plus'></i></a></div><div class='wpr_contentWagerDiv'><div class='rightFloatDiv'>",d=a.Description.split("       "),e="";$.each(d,function(c,d){""!==d.trim()&&(null!=b&&void 0!=b&&0==b&&d.substring(0,d.indexOf(" "))+parseDescriptionSign(d.substring(d.indexOf(" ")),null,null,null),e+="<span id='description_"+a.TicketNumber+"_"+a.WagerNumber+"_"+c+"'><div class='wager-description-dot btn-success'></div>"+d+"</span><br/>")}),c+=e;var f=a.PostedDateTime.split(" "),g=f[0].split("-"),h=f[1].split(":"),i=g[1]+"/"+g[2]+"/"+g[0]+" "+h[0]+":"+h[1],j="undefined"!=typeof a.FreePlayFlag&&"Y"==a.FreePlayFlag?"***"+getTextJs.sportbook_wagerReport_Free_Play+"***":"";return c+="</div><div class='leftFloatDiv'><span><b>"+getTextJs.sportbook_wagerReport_WagerType+"</b>:&nbsp;"+("I"==a.WagerType?"IF BET":a.WagerType)+"</span><br/><span><b>"+getTextJs.sportbook_wagerReport_Accepted+"</b>:&nbsp;"+i+"</span><br/><span><b>"+getTextJs.sportbook_wagerReport_Status+"</b>:&nbsp;"+a.WagerStatus+"</span><br/><span><b>"+getTextJs.sportbook_wagerReport_Risk+"</b>:&nbsp;"+formatnumeric(a.AmountWagered,2,!1)+"</span>&nbsp;<span><b>"+getTextJs.sportbook_wagerReport_ToWin+"</b>:&nbsp;"+formatnumeric(a.ToWinAmount,2,!1)+"</span><br/>"+(""!==a.Paid?"<span><b>"+getTextJs.sportbook_wagerReport_Paid+"</b>:&nbsp;"+formatnumeric(a.Paid,2,!1)+"</span><br/>":"")+"<span>"+j+"</span></div></div></div><div id='"+a.TicketNumber+"_"+a.WagerNumber+"' class='accordion-body collapse in' aria-expanded='false' style='height: 0px;'></div></div>"}function GetWagerDetail(a,b,c){$("#"+a+"_"+b+" div").remove();var d=$(c).parent().parent().parent().find("#"+a+"_"+b);"false"===d.attr("aria-expanded")?$.ajax({url:"/Sportbook/getWagerdetail",data:{doc:a,wager:b},complete:function(){"false"===d.attr("aria-expanded")&&($("#"+a+"_"+b+"_i").removeClass("glyphicon glyphicon-plus"),$("#"+a+"_"+b+"_i").attr("class","glyphicon glyphicon-minus"),d.attr("class","accordion-body collapse in"),d.attr("aria-expanded","true"),d.attr("style",""))},success:function(c){var e=JSON.parse(c),f=0;$.each(e.wagersdetail,function(c,e){d.append(printWagerDetails(e,a,b,f,d)),f++})}}):(d.attr("class","accordion-body collapse"),d.attr("aria-expanded","false"),d.attr("style","height:0px"),$("#"+a+"_"+b+"_i").removeClass("glyphicon glyphicon-minus"),$("#"+a+"_"+b+"_i").attr("class","glyphicon glyphicon-plus"))}function printWagerDetails(a,b,c,d,e){var f="";if(a.GameDateTime.indexOf("-")!=-1){var g=a.GameDateTime.split(" "),h=g[0].split("-"),i=g[1].split(":");f=h[1]+"/"+h[2]+"/"+h[0]+" "+i[0]+":"+i[1]}else{var g=a.GameDateTime.split("  "),h=g[0].split(" "),i=g[1].split(":");f=h[1]+"/"+h[2]+"/"+h[0]+" "+i[0]+":"+i[1]}a.Description=a.Description.split(";").join(" "),a.Description=a.Description.split("  ").join(" ");var k=($.trim(a.Description.substr(0,a.Description.indexOf(" "))),$.trim(a.Description.substr(a.Description.indexOf("-")+1)));k=$.trim(k.substr(0,k.indexOf(" "))),k=k.substr(k.indexOf("/")+1),k.indexOf(" ")!=-1&&(k=k.split(" ")[1]);var m=($(e).parent().parent().find("#description_"+b+"_"+c+"_"+d).html(),a.Description),n="<div class='accordion-inner wrt_InternalDivContent'><span class='separator'></span><span>GameDate:&nbsp;"+f+"</span><br/>"+(""==m?"":"<span>"+m+"</span><br/>");return n+="<span>Wager Status:&nbsp;"+(""==a.WinnerID?a.Status:"L"==a.Outcome?"Loss":"W"==a.Outcome?"Win":"No Bet")+"</span><br/><span>Wager Type:&nbsp;"+("undefined"==typeof a.Type||""===a.Type?a.BetType:a.Type)+"</span><br/>",void 0!==a.Comments&&(n+="<span>"+getTextJs.sportbook_wagerReport_EventNotes+":&nbsp;"+a.Comments+"</span>"),n+="</div>"}function printAccounHistory(a,b,c){var d=$("<tr class='trReportDetail show-data'></tr>"),e=a.TranDateTime.split(" "),f=e[0].split("-"),g=e[1].split(":"),h=f[1]+"/"+f[2]+"/"+f[0]+" "+g[0]+":"+g[1],i="";"A"!==a.TranType&&"W"!==a.TranType&&"L"!==a.TranType&&"R"!==a.TranType||(i="<a class='plus-sgin-wager-report' onclick='getTransactionDetails(&#39;"+a.TranType+"&#39;,"+a.DocumentNumber+","+c+")'><b><i class='glyphicon glyphicon-plus'></i></b></a>");var j=parseFloat(a.Credit)>0?a.Credit:"-"+a.Debit,k="<td data-th='"+a.DocumentNumber+"' class='ahr_docNumtd one-row'>";k=k+"   <span class='wrap-info-title'>"+a.DocumentNumber+"</span>",k=k+"   <span class='hidden-xs hidden-sm'>"+a.DocumentNumber+"</span>",k+="   <div class='wrap-info wrap-info-4col'>",k=k+"       <a class='toggleReportDetail' href='#' is-last='"+b.toString()+"'>",k+="           <span class='glyphicon glyphicon-plus-sign'></span>",k+="       </a>",k=k+"       <span class='info-col2'>"+a.Balance+"</span>",k=k+"       <span class='info-col1'>"+j+"</span>",k+="   </div>",k+="</td>";var l="<td class='ahr_datetd cell-data hide-data' data-th='Date'>"+h+"</td>",m="<td class='ahr_desctd cell-data hide-data' data-th='Description'>"+a.Description+"</td>",n="<td class='ahr_amounttd cell-data hide-data' data-th='Amount'>"+j+"</td>",o="<td class='ahr_balancetd cell-data hide-data' data-th='Balance'>"+a.Balance+"</td>",p="<td class='ahr_wagerDetailstd cell-data hide-data' data-th='Details'>"+i+"</td>";return d.append(k),d.append(l),d.append(m),d.append(n),d.append(o),d.append(p),d}function getTransactionDetails(a,b){for(var c=listPosDocAccount[b],d=c-1,e=getTransactionTicketNumber(listDocAccount[c].TranType,listDocAccount[c].DocumentNumber),f=1,g=!0;d>=0&&g;){var h=getTransactionTicketNumber(listDocAccount[d].TranType,listDocAccount[d].DocumentNumber);e!=h?g=!1:f++,e=h,d--}"W"===a||"L"===a||"R"===a?getTransDetails(b,f):"A"===a&&getTransWagerDetails(b,f)}function getTransactionTicketNumber(a,b){return"W"===a||"L"===a||"R"===a?getTransTicketNumber(b):"A"===a?getTransWagerTicketNumber(b):void 0}function getTransWagerTicketNumber(a){var b=null;return $.ajax({url:"/Sportbook/getTransWagerDetails",type:"POST",async:!1,data:{transactionID:a},success:function(a){b=JSON.parse(a)}}),b.data[0].TicketNumber}function getTransTicketNumber(a){var b=null;return $.ajax({url:"/Sportbook/loadTransactionDetails",type:"POST",async:!1,data:{transactionID:a},success:function(a){b=JSON.parse(a)}}),b.data[0].TicketNumber}function getTransWagerDetails(a,b){$.ajax({url:"/Sportbook/getTransWagerDetails",type:"POST",data:{transactionID:a},success:function(a){var b=JSON.parse(a);$("#tdm_accordion div").remove();var c=$("#tdm_accordion");$.each(b.data,function(a,b){c.append(printTransWagerDetails(b))}),$("#transactionDetailsModal").modal("toggle")}})}function printTransWagerDetails(a){var b="";if("PARLAY"==a.WagerType)if($("#"+a.TicketNumber+"_"+a.WagerNumber+"_rightFloatDiv").size()>0){var c="";if(a.Description.toLowerCase().indexOf("casino")!=-1)c=a.Description,e="Casino";else{var d=a.Description.split("|");$.each(d,function(a,b){c+="<span>"+b+"</span><br/>"}),e=a.WagerType}$("#"+a.TicketNumber+"_"+a.WagerNumber+"_rightFloatDiv").append(c)}else{b="<div class='accordion-group borderedWagerDiv'><div  class='accordion-heading wtr_headerDiv'><div class='wpr_headerWagerDiv'><span>"+a.TicketNumber+"_"+a.WagerNumber+"</span><a style='float:right' class='accordion-toggle' onclick='GetWagerDetail("+a.TicketNumber+","+a.WagerNumber+", this)' data-toggle='collapse' data-parent='#wpr_accordion' href='#'><i id='"+a.TicketNumber+"_"+a.WagerNumber+"_i' class='glyphicon glyphicon-plus'></i></a></div><div class='wpr_contentWagerDiv'><div class='rightFloatDiv' id='"+a.TicketNumber+"_"+a.WagerNumber+"_rightFloatDiv'>";var c="",e="";if(a.Description.toLowerCase().indexOf("casino")!=-1)c=a.Description;else{var d=a.Description.split("|");$.each(d,function(a,b){c+="<span>"+b.substring(0,b.indexOf(" "))+parseDescriptionSign(b.substring(b.indexOf(" ")),null,null,null)+"</span><br/>"}),b+=c}var f=a.PostedDateTime.substring(0,a.PostedDateTime.length-9)+a.PostedDateTime.substring(a.PostedDateTime.length-2,a.PostedDateTime.length);b+="</div><div class='leftFloatDiv'><span>"+getTextJs.sportbook_wagerReport_WagerType+":&nbsp;"+e+"</span><br/><span>"+getTextJs.sportbook_wagerReport_Accepted+":&nbsp;"+f+"</span><br/><span>"+getTextJs.sportbook_wagerReport_Status+":&nbsp;"+a.WagerStatus+"</span><br/><span>"+getTextJs.sportbook_wagerReport_Risk+":&nbsp;"+a.AmountWagered+"</span>&nbsp<span>"+getTextJs.sportbook_wagerReport_ToWin+":&nbsp;"+a.ToWinAmount+"</span><br/><span>"+getTextJs.sportbook_wagerReport_Paid+":&nbsp;"+a.Paid+"</span></div></div></div><div id='"+a.TicketNumber+"_"+a.WagerNumber+"' class='accordion-body collapse in' aria-expanded='false' style='height: 0px;'></div></div>"}else{b="<div class='accordion-group borderedWagerDiv'><div  class='accordion-heading wtr_headerDiv'><div class='wpr_headerWagerDiv'><span>"+a.TicketNumber+"_"+a.WagerNumber+"</span><a style='float:right' class='accordion-toggle' onclick='GetWagerDetail("+a.TicketNumber+","+a.WagerNumber+", this)' data-toggle='collapse' data-parent='#wpr_accordion' href='#'><i id='"+a.TicketNumber+"_"+a.WagerNumber+"_i' class='glyphicon glyphicon-plus'></i></a></div><div class='wpr_contentWagerDiv'><div class='rightFloatDiv' id='"+a.TicketNumber+"_"+a.WagerNumber+"_rightFloatDiv'>";var c="",e="";if(a.Description.toLowerCase().indexOf("casino")!=-1)c=a.Description,e="Casino";else{var d=a.Description.split("|");$.each(d,function(a,b){c+="<span>"+b.substring(0,b.indexOf(" "))+parseDescriptionSign(b.substring(b.indexOf(" ")),null,null,null)+"</span><br/>"}),b+=c,e=a.WagerType}var f=a.PostedDateTime.substring(0,a.PostedDateTime.length-9)+a.PostedDateTime.substring(a.PostedDateTime.length-2,a.PostedDateTime.length);b+="</div><div class='leftFloatDiv'><span>Wager Type:&nbsp;"+e+"</span><br/><span>Accepted:&nbsp;"+f+"</span><br/><span>Status:&nbsp;"+a.WagerStatus+"</span><br/><span>Risk:&nbsp;"+a.AmountWagered+"</span>&nbsp<span>To Win:&nbsp;"+a.ToWinAmount+"</span><br/><span>Paid:&nbsp;"+a.Paid+"</span></div></div></div><div id='"+a.TicketNumber+"_"+a.WagerNumber+"' class='accordion-body collapse in' aria-expanded='false' style='height: 0px;'></div></div>"}return b}function getTransDetails(a,b){$.ajax({url:"/Sportbook/loadTransactionDetails",type:"POST",data:{transactionID:a},success:function(a){var b=JSON.parse(a),c=$("#tdm_accordion");$("#tdm_accordion div").remove(),$.each(b.data,function(a,b){c.append(printTransactionDetails(b))}),$("#transactionDetailsModal").modal("toggle")}})}function printTransactionDetails(a,b){var c="",d="";if(""!=a.Description){d=a.Description.split("-").join(" "),d=d.replace(/\s\s+/g," ");var e=d.split(" "),h=(e[0],e[1],e[2]);d=a.Description.replace(/\s\s+/g," "),e=d.split(" "),$.each(e,function(a,b){"o"!=b.toString().toLowerCase()&&"u"!=b.toString().toLowerCase()||(e[a]=e[a-1],"o"==b.toString().toLowerCase()?e[a-1]="Over":e[a-1]="Under")}),d=e.join(" "),h.indexOf("/")!=-1&&(h=$.trim(h.substr(h.indexOf("/")+1)),h=h.substr(h.indexOf("/")+1),h.indexOf(" ")!=-1&&(h=h.split(" ")[1])),d=d.substr(0,d.indexOf(h)+h.length)+parseDescriptionSign(d.substr(d.indexOf(h)+h.length),null,null,null)}if("PARLAY"==a.WagerType)if($("#"+a.TicketNumber+"_"+a.WagerNumber+"_rightFloatDiv").size()>0){var i=$("#"+a.TicketNumber+"_"+a.WagerNumber+"_rightFloatDiv span").length,j="";j+="<span id='description_"+a.TicketNumber+"_"+a.WagerNumber+"_"+i+"'>"+d+"</span><br/>",$("#"+a.TicketNumber+"_"+a.WagerNumber+"_rightFloatDiv").append(j)}else{c="<div class='accordion-group borderedWagerDiv'><div  class='accordion-heading wtr_headerDiv'><div class='wpr_headerWagerDiv'><span>"+a.TicketNumber+"_"+a.WagerNumber+"</span><a style='float:right' class='accordion-toggle' onclick='GetWagerDetail("+a.TicketNumber+","+a.WagerNumber+", this)' data-toggle='collapse' data-parent='#wpr_accordion' href='#'>   <i id='"+a.TicketNumber+"_"+a.WagerNumber+"_i' class='glyphicon glyphicon-plus'></i></a></div><div class='tdm_contentWagerDiv'><div class='rightFloatDiv' id='"+a.TicketNumber+"_"+a.WagerNumber+"_rightFloatDiv'>";var j="";j+="<span id='description_"+a.TicketNumber+"_"+a.WagerNumber+"_0'>"+d+"</span><br/>",c+=j;var k=a.ValueDate.split(" "),l=k[0].split("-"),m=k[1].split(":"),n=l[1]+"/"+l[2]+"/"+l[0]+" "+m[0]+":"+m[1];c+="</div><div class='leftFloatDiv'><span>"+getTextJs.sportbook_wagerReport_WagerType+":&nbsp;"+a.WagerType+"</span><br/><span>"+getTextJs.sportbook_wagerReport_Accepted+":&nbsp;"+n+"</span><br/><span>"+getTextJs.sportbook_wagerReport_Status+":&nbsp;"+a.WagerStatus+"</span><br/><span>"+getTextJs.sportbook_wagerReport_Risk+":&nbsp;"+a.AmountWagered+"</span><br/><span>"+getTextJs.sportbook_wagerReport_ToWin+":&nbsp;"+a.ToWinAmount+"</span><br/><span>"+getTextJs.sportbook_wagerReport_Paid+":&nbsp;"+a.Paid+"</span><br/></div></div></div><div id='"+a.TicketNumber+"_"+a.WagerNumber+"' class='accordion-body collapse in' aria-expanded='false' style='height: 0px;'></div></div>"}else{c="<div class='accordion-group borderedWagerDiv'><div  class='accordion-heading wtr_headerDiv'><div class='wpr_headerWagerDiv'><span>"+a.TicketNumber+"_"+a.WagerNumber+"</span><a style='float:right' class='accordion-toggle' onclick='GetWagerDetail("+a.TicketNumber+","+a.WagerNumber+", this)' data-toggle='collapse' data-parent='#wpr_accordion' href='#'><i id='"+a.TicketNumber+"_"+a.WagerNumber+"_i' class='glyphicon glyphicon-plus'></i></a></div><div class='tdm_contentWagerDiv'><div class='rightFloatDiv' id='"+a.TicketNumber+"_"+a.WagerNumber+"_rightFloatDiv'>";var j="";j+="<span id='description_"+a.TicketNumber+"_"+a.WagerNumber+"_"+h+"'>"+d+"</span><br/>",c+=j;var k=a.ValueDate.split(" "),l=k[0].split("-"),m=k[1].split(":"),n=l[1]+"/"+l[2]+"/"+l[0]+" "+m[0]+":"+m[1];c+="</div><div class='leftFloatDiv'><span>"+getTextJs.sportbook_wagerReport_WagerType+":&nbsp;"+a.WagerType+"</span><br/><span>"+getTextJs.sportbook_wagerReport_Accepted+":&nbsp;"+n+"</span><br/><span>"+getTextJs.sportbook_wagerReport_Status+":&nbsp;"+a.WagerStatus+"</span><br/><span>"+getTextJs.sportbook_wagerReport_Risk+":&nbsp;"+a.AmountWagered+"</span><br/><span>"+getTextJs.sportbook_wagerReport_ToWin+":&nbsp;"+a.ToWinAmount+"</span><br/><span>"+getTextJs.sportbook_wagerReport_Paid+":&nbsp;"+a.Paid+"</span><br/></div></div></div><div id='"+a.TicketNumber+"_"+a.WagerNumber+"' class='accordion-body collapse in' aria-expanded='false' style='height: 0px;'></div></div>"}return c}function loadAccountHistory(a){createCookie("selectedSideCanvas","center",""),$.ajax({url:"/Sportbook/loadAccountHistory",type:"POST",data:{freePlay:a},complete:function(){getPrevBalance()},success:function(a){$("#ahr_Table tr").remove();var b=$("#ahr_Table"),c=JSON.parse(a),d=parseFloat($(".CurrentBalance").text());if(!isNaN(d)&&0!=d){var e=$("<tr class='trReportDetail show-data'></tr>"),f="<td data-th='&nbsp;' class='ahr_docNumtd one-row'>";f+="&nbsp;",f+="   <span class='hidden-xs hidden-sm'>&nbsp;</span>",f+="   <div class='wrap-info wrap-info-4col'>",f+="       <span style='width: 10%;float: right;padding-left: 10px;'>",f+="           &nbsp;",f+="       </span>",f+="       <span class='info-col2'><span id='prevBalance'></span></span>",f+="       <span class='info-col1'>&nbsp;</span>",f+="   </div>",f+="</td>",e.append(f),e.append("<td class='ahr_datetd cell-data hide-data' data-th='"+getTextJs.sportbook_wagerReport_Date+"'>&nbsp;</td>"),e.append("<td class='ahr_desctd cell-data hide-data' data-th='"+getTextJs.sportbook_wagerReport_Description+"'>&nbsp;</td>"),e.append("<td class='ahr_amounttd cell-data hide-data' data-th='"+getTextJs.sportbook_wagerReport_Amount+"'>&nbsp;</td>"),e.append("<td class='ahr_balancetd cell-data hide-data' data-th='"+getTextJs.sportbook_wagerReport_Balance+"'><span id='prevBalance'></span></td>"),e.append("<td class='ahr_wagerDetailstd cell-data hide-data' data-th='"+getTextJs.sportbook_wagerReport_Details+"'>&nbsp;</td>"),b.append(e)}var a=c.data;if(isIsset(a)){a=a.reverse();var g="",h=1;$.each(a,function(c,e){listDocAccount.push({TranType:e.TranType,DocumentNumber:e.DocumentNumber}),listPosDocAccount[e.DocumentNumber]=c,d+=parseFloat(e.Credit),d-=parseFloat(e.Debit),c==a.length-1?b.append(printAccounHistory(e,!0,h)):b.append(printAccounHistory(e,!1,h)),g=1}),function(){$(".toggleReportDetail").click(function(a){a.preventDefault();var b=$(this).parents("td").parents(".trReportDetail").children(".cell-data");switchClassHideData(b);var c=$(this).find(".glyphicon");if(switchGlyphicon(c),"true"==$(this).attr("is-last")){$(this).parents("td").parents(".trReportDetail").last().position();moveScrollContentVertical($(this).parents("td").parents(".trReportDetail").parents("#ahr_tableDiv"),$(this).parents("td").parents(".trReportDetail").parents("#ahr_Table").height())}})}()}}})}function getPrevBalance(){$.ajax({url:"/Sportbook/getAccountPrevBalance",success:function(a){var c,b=JSON.parse(a);c=void 0===b[0]?0:parseFloat(b[0].Credit)-parseFloat(b[0].Debit),$("#prevBalance").text(Math.round(100*c)/100)}})}function loadweeklyBalance(){createCookie("selectedSideCanvas","center","");var a=parseInt($("#br_dateFilter").val())-1,b=getPosibleDatesArray(),c=b[a].getMonth()+1,d=b[a].getDate(),e=b[a].getFullYear(),f=c+"/"+d+"/"+e;$("#br_selectedInitDate").val(f),$.ajax({url:"/Sportbook/getWeeklyBalance",type:"POST",data:{endDate:f},success:function(a){var b=JSON.parse(a);$("#br_headerTable tbody tr").remove(),$("#br_accordion div").remove(),b.data.length>0&&printWeekBalance(b.data[0]),$("#balanceReportWrap .overlay").fadeOut()}})}function printWeekBalance(a){var e,f,g,h,i,j,k,b=$("#br_startDaySelector").is(":checked")?1:0,c=$("<tr class='trReportDetail show-data'></tr>"),d=parseFloat(a.Day0)+parseFloat(a.Day1)+parseFloat(a.Day2)+parseFloat(a.Day3)+parseFloat(a.Day4)+parseFloat(a.Day5)+parseFloat(a.Day6);e="Monday",f="Tuesday",g="Wednesday",h="Thursday",i="Friday",j="Saturday",k="Sunday";var l="";0===b?(l="<td data-th='"+e+"' class='cell-data show-data'>"+getBalanceTD(a.Day0,6)+"</td>",l+="<td data-th='"+f+"' class='cell-data show-data'>"+getBalanceTD(a.Day1,5)+"</td>",l+="<td data-th='"+g+"' class='cell-data show-data'>"+getBalanceTD(a.Day2,4)+"</td>",l+="<td data-th='"+h+"' class='cell-data show-data'>"+getBalanceTD(a.Day3,3)+"</td>",l+="<td data-th='"+i+"' class='cell-data show-data'>"+getBalanceTD(a.Day4,2)+"</td>",l+="<td data-th='"+j+"' class='cell-data show-data'>"+getBalanceTD(a.Day5,1)+"</td>",l+="<td data-th='"+k+"' class='cell-data show-data'>"+getBalanceTD(a.Day6,0)+"</td>"):(l="<td data-th='"+f+"' class='cell-data show-data'>"+getBalanceTD(a.Day0,6)+"</td>",l+="<td data-th='"+g+"' class='cell-data show-data'>"+getBalanceTD(a.Day1,5)+"</td>",l+="<td data-th='"+h+"' class='cell-data show-data'>"+getBalanceTD(a.Day2,4)+"</td>",l+="<td data-th='"+i+"' class='cell-data show-data'>"+getBalanceTD(a.Day3,3)+"</td>",l+="<td data-th='"+j+"' class='cell-data show-data'>"+getBalanceTD(a.Day4,2)+"</td>",l+="<td data-th='"+k+"' class='cell-data show-data'>"+getBalanceTD(a.Day5,1)+"</td>",l+="<td data-th='"+e+"' class='cell-data show-data'>"+getBalanceTD(a.Day6,0)+"</td>"),l+="<td data-th='Total' class='cell-data show-data'>"+Math.round(100*d)/100+"</td>",c.append(l),$("#br_headerTable tbody").append(c)}function getBalanceTD(a,b){return 0===parseFloat(a)?a:"<a onclick='getWagerByDay("+b+")'>"+a+"</a>"}function getWagerByDay(a){var b=new Date($("#br_selectedInitDate").val());b.setDate(b.getDate()-a);var c=b.getMonth()+1,a=b.getDate(),d=b.getFullYear(),e=d+"-"+(c<10?"0"+c:c)+"-"+a;$.ajax({url:"/Sportbook/getDailyTransactions",type:"POST",data:{date:e},success:function(a){$("#br_accordion div").remove();var b=$("#br_accordion"),c=JSON.parse(a);$.each(c,function(a,c){b.append(printDailyTransDet(c))})}})}function printDailyTransDet(a){var b="<div class='accordion-group borderedWagerDiv'><div  class='accordion-heading wtr_headerDiv'><div class='wpr_headerWagerDiv'><span>"+a.TicketNumber+"_"+a.WagerNumber+"</span><a style='float:right' class='accordion-toggle' onclick='GetWagerDetail("+a.TicketNumber+","+a.WagerNumber+", this)' data-toggle='collapse' data-parent='#wpr_accordion' href='#"+a.TicketNumber+"_"+a.WagerNumber+"'><i id='"+a.TicketNumber+"_"+a.WagerNumber+"_i' class='glyphicon glyphicon-plus'></i></a></div><div class='wpr_contentWagerDiv' id='wpr_contentWagerDiv_"+a.TicketNumber+"_"+a.WagerNumber+"'><div class='rightFloatDiv'>",c="",d="";if(a.Description.toLowerCase().indexOf("casino")!=-1)c=a.Description,d="Casino";else{var e=a.Description.split("|");$.each(e,function(a,b){b=$.trim(b),c+="<div class='wager-description-dot btn-success'></div><span>"+(b.indexOf(" ")!=-1?b.substring(0,b.indexOf(" "))+parseDescriptionSign(b.substring(b.indexOf(" ")),null,null,null):b)+"</span><br/>"}),d=a.Type}return b+=c,b+="</div><div class='leftFloatDiv'><span>"+getTextJs.sportbook_wagerReport_WagerType+":&nbsp;"+d+"</span><br/><span>"+getTextJs.sportbook_wagerReport_WonLost+":&nbsp;"+a.Won_Lost+"</span></div></div></div><div id='"+a.TicketNumber+"_"+a.WagerNumber+"' class='accordion-body collapse in' aria-expanded='false' style='height: 0px;'></div></div>"}function printHeaderBalanceTable(a){var b=getTextJs.sportbook_wagerReport_Monday,c=getTextJs.sportbook_wagerReport_Tuesday,d=getTextJs.sportbook_wagerReport_Wednesday,e=getTextJs.sportbook_wagerReport_Thursday,f=getTextJs.sportbook_wagerReport_Friday,g=getTextJs.sportbook_wagerReport_Saturday,h=getTextJs.sportbook_wagerReport_Sunday,i=$("<tr class='trReportDetail show-data'></tr>"),j="";0===a?(j="<th class='cell-data hidden-xs hidden-sm show-data'>"+b+"</th>",j+="<th class='cell-data hidden-xs hidden-sm show-data'>"+c+"</th>",j+="<th class='cell-data hidden-xs hidden-sm show-data'>"+d+"</th>",j+="<th class='cell-data hidden-xs hidden-sm show-data'>"+e+"</th>",j+="<th class='cell-data hidden-xs hidden-sm show-data'>"+f+"</th>",j+="<th class='cell-data hidden-xs hidden-sm show-data'>"+g+"</th>",j+="<th class='cell-data hidden-xs hidden-sm show-data'>"+h+"</th>"):(j="<th class='cell-data hidden-xs hidden-sm show-data'>"+c+"</th>",j+="<th class='cell-data hidden-xs hidden-sm show-data'>"+d+"</th>",j+="<th class='cell-data hidden-xs hidden-sm show-data'>"+e+"</th>",j+="<th class='cell-data hidden-xs hidden-sm show-data'>"+f+"</th>",j+="<th class='cell-data hidden-xs hidden-sm show-data'>"+g+"</th>",j+="<th class='cell-data hidden-xs hidden-sm show-data'>"+h+"</th>",j+="<th class='cell-data hidden-xs hidden-sm show-data'>"+b+"</th>"),j+="<th class='cell-data hidden-xs hidden-sm show-data'>Total</th>",i.append(j),$("#br_headerTable thead tr").remove(),$("#br_headerTable thead").append(i)}function getPosibleDatesArray(){var a=$("#br_startDaySelector").is(":checked")?1:0;printHeaderBalanceTable(a);var b=new Date,c=[];c.push(getNextInitDay(a,b));var d=new Date;return getLast3InitDay(a,d,c),c}function getNextInitDay(a,b){if(b.getDay()===a)return b;var c=b;return c.setDate(c.getDate()+1),getNextInitDay(a,new Date(c))}function getLast3InitDay(a,b,c){return 4===c.length?void 0:b.getDay()===a?(c.push(new Date(b)),b.setDate(b.getDate()-1),getLast3InitDay(a,new Date(b),c)):(b.setDate(b.getDate()-1),getLast3InitDay(a,new Date(b),c))}var wagersPerPage=1,currentPage=0,currentPending,currentOpenBets,count=0,listDocAccount=new Array,listPosDocAccount=new Array,getwagervalidator=0,getwager=1,lastWagersLoaded=null,validarEntradaaccounthistoy=0,tmp,flag=!1,superdiferencia;$(document).ready(function(){$("#br_dateFilter").change(function(){loadweeklyBalance()}),$("#br_startDaySelector").change(function(){loadweeklyBalance()}),$("#ahr_all").click(function(){loadAccountHistory(0),$(this).siblings().removeClass("btn-success").addClass("btn-primary"),$(this).removeClass("btn-primary").addClass("btn-success")}),$("#ahr_freePlays").click(function(){loadAccountHistory(1),$(this).siblings().removeClass("btn-success").addClass("btn-primary"),$(this).removeClass("btn-primary").addClass("btn-success")}),$("#loadPendings").click(function(){loadWagers(1,0),$(this).siblings().removeClass("btn-success").addClass("btn-primary"),$(this).removeClass("btn-primary").addClass("btn-success")}),$("#loadGraded").click(function(){loadWagers(0,0),$(this).siblings().removeClass("btn-success").addClass("btn-primary"),$(this).removeClass("btn-primary").addClass("btn-success")}),$("#loadOpenBets").click(function(){loadWagers(1,1),$(this).siblings().removeClass("btn-success").addClass("btn-primary"),$(this).removeClass("btn-primary").addClass("btn-success")}),$("#wagersReport .next").click(function(){if(currentPage>count)console.log("a");else{var a=currentPage+5;if(a>count){flag=!0,$("#p"+currentPage).hide(1),$("#p"+(currentPage-1)).hide(1),$("#p"+(currentPage-2)).hide(1),$("#p"+(currentPage-3)).hide(1),$("#p"+(currentPage-4)).hide(1),$("#p"+(currentPage-5)).hide(1);var b=count-currentPage;for(superdiferencia=b,f=1;f<=b;f++)$("#p"+currentPage).show(50),$("#p"+(currentPage+f)).show(50);wagersPerPage+=1,$("#wagersReport .page").html(wagersPerPage),console.log("last"),console.log(currentPage),$("#wagersReport .next").addClass("disabled")}else flag=!1,$("#p"+(count-1)).hide(1),$("#p"+currentPage).hide(1),$("#p"+(currentPage-1)).hide(1),$("#p"+(currentPage-2)).hide(1),$("#p"+(currentPage-3)).hide(1),$("#p"+(currentPage-4)).hide(1),$("#p"+(currentPage-5)).hide(1),$("#p"+currentPage).show(50),$("#p"+(currentPage+1)).show(50),$("#p"+(currentPage+2)).show(50),$("#p"+(currentPage+3)).show(50),$("#p"+(currentPage+4)).show(50),wagersPerPage+=1,$("#wagersReport .page").html(wagersPerPage),currentPage+=5,currentPage>5?$("#wagersReport .previous").removeClass("disabled"):$("#wagersReport .previous").addClass("disabled")}}),$("#wagersReport .previous").click(function(){if(1==flag){for($("#wagersReport .next").removeClass("disabled"),console.log(superdiferencia),f=0;f<=superdiferencia;f++)$("#p"+(currentPage+f)).hide(50);superdiferencia=0,wagersPerPage>1?($("#p"+(currentPage-1)).show(50),$("#p"+(currentPage-2)).show(50),$("#p"+(currentPage-3)).show(50),$("#p"+(currentPage-4)).show(50),$("#p"+(currentPage-5)).show(50),wagersPerPage-=1,$("#wagersReport .page").html(wagersPerPage)):$("#wagersReport .previous").addClass("disabled"),flag=!1}else wagersPerPage>1?(currentPage-=5,$("#p"+currentPage).hide(1),$("#p"+(currentPage+1)).hide(1),$("#p"+(currentPage+2)).hide(1),$("#p"+(currentPage+3)).hide(1),$("#p"+(currentPage+4)).hide(1),$("#p"+(currentPage+5)).hide(1),$("#p"+(currentPage-1)).show(50),$("#p"+(currentPage-2)).show(50),$("#p"+(currentPage-3)).show(50),$("#p"+(currentPage-4)).show(50),$("#p"+(currentPage-5)).show(50),wagersPerPage-=1,$("#wagersReport .page").html(wagersPerPage)):$("#wagersReport .previous").addClass("disabled")})});