function completeCustomerInfoForBetslip(){try{var a=siteCache.customer.parlayInfo.parlayDetails;for(var b in a){var c=parseInt(a[b].GamesPicked);_MAX_SELECTIONS_ALLOWED.parlay<c&&(_MAX_SELECTIONS_ALLOWED.parlay=c,_MAX_SELECTIONS_ALLOWED.rndrobin=c)}}catch(a){console.log("ERROR>>>>>> LOADING PARLAY")}}function updateBetSlip(){_ERROR=!1,_SHOW_GLOBAL_MESSAGES=!1,""!=getCookie("selectedSideCanvas")&&("center"==getCookie("selectedSideCanvas")?($("#myOffCanvas").removeClass("activeLeft"),$("#myOffCanvas").removeClass("activeRight")):$("#myOffCanvas").addClass("active"+getCookie("selectedSideCanvas").charAt(0).toUpperCase()+getCookie("selectedSideCanvas").slice(1))),_MAX_SELECTIONS_ALLOWED.teaser=getMaxSelectionsAllowedTeaser(),_MIN_SELECTIONS_ALLOWED.teaser=getMinSelectionsAllowedTeaser(),changeStyles(),computeThresholdTeaser(),computeBetslipSelectionsAmounts(),updateFreePlayCheck();var a=updateBetslipSelections();hightLigthSelectionOnBetslip();var b=computeMaxWinAmount();null!=b&&(b=myRound(b,2));var c=myRound(computeMaxRiskAmount(),2);computeAmountsSelections(c,b);var d=siteCache.customer,e=parseFloat(d.AvailableBalance),f=parseFloat(d.FreePlayBalance),g=getTotalAmounts();if(g.risk>e?(_SHOW_GLOBAL_MESSAGES=!0,_ERROR=!0,"placeBet"==_TRIGGERED_BY?$(".globalMessages .lowBalanceError").show():$(".globalMessages .lowBalanceError").hide()):$(".globalMessages .lowBalanceError").hide(),g.riskFP>f?(_SHOW_GLOBAL_MESSAGES=!0,_ERROR=!0,"placeBet"==_TRIGGERED_BY?$(".globalMessages .lowFreePlayError").show():$(".globalMessages .lowFreePlayError").hide()):$(".globalMessages .lowFreePlayError").hide(),a.amountError?(_SHOW_GLOBAL_MESSAGES=!0,_ERROR=!0,"placeBet"==_TRIGGERED_BY?$(".globalMessages .amountError").show():$(".globalMessages .amountError").hide()):$(".globalMessages .amountError").hide(),a.unavailableError?(_SHOW_GLOBAL_MESSAGES=!0,_ERROR=!0,"placeBet"==_TRIGGERED_BY?$(".globalMessages .unavailableError").show():$(".globalMessages .unavailableError").hide()):$(".globalMessages .unavailableError").hide(),a.changeSelectionError?(_SHOW_GLOBAL_MESSAGES=!0,_ERROR=!0,$(".globalMessages .changeSelectionError").show(),$("#betslip #acceptChangesWrap").show()):($(".globalMessages .changeSelectionError").hide(),$("#betslip #acceptChangesWrap").hide()),a.restWagerError?(_SHOW_GLOBAL_MESSAGES=!0,_ERROR=!0,"placeBet"==_TRIGGERED_BY?$(".globalMessages .restWagerError").show():$(".globalMessages .restWagerError").hide()):$(".globalMessages .restWagerError").hide(),"teaser"==_BETSLIP_TYPE){void 0!==siteCache.customer.teasers[_TEASER_TYPE]&&(_MAX_SELECTIONS_ALLOWED[_BETSLIP_TYPE]<_AMOUNT_SELECTIONS_ON_BETSLIP?(_SHOW_GLOBAL_MESSAGES=!0,_ERROR=!0,$(".globalMessages .maxSelectionAllowedError .maxSelectionsAllowed").html(_AMOUNT_SELECTIONS_ON_BETSLIP),"placeBet"==_TRIGGERED_BY?$(".globalMessages .maxSelectionAllowedError").show():$(".globalMessages .maxSelectionAllowedError").hide()):$(".globalMessages .maxSelectionAllowedError").hide(),_AMOUNT_SELECTIONS_ON_BETSLIP>0&&_MIN_SELECTIONS_ALLOWED[_BETSLIP_TYPE]>_AMOUNT_SELECTIONS_ON_BETSLIP?(_SHOW_GLOBAL_MESSAGES=!0,_ERROR=!0,$(".globalMessages .minSelectionAllowedError .minSelectionsAllowed").html(_MIN_SELECTIONS_ALLOWED[_BETSLIP_TYPE]),"placeBet"==_TRIGGERED_BY?$(".globalMessages .minSelectionAllowedError").show():$(".globalMessages .minSelectionAllowedError").hide()):$(".globalMessages .minSelectionAllowedError").hide())}else _MAX_SELECTIONS_ALLOWED[_BETSLIP_TYPE]<_AMOUNT_SELECTIONS_ON_BETSLIP?(_SHOW_GLOBAL_MESSAGES=!0,_ERROR=!0,$(".globalMessages .maxSelectionAllowedError .maxSelectionsAllowed").html(_MAX_SELECTIONS_ALLOWED[_BETSLIP_TYPE]),$(".globalMessages .maxSelectionAllowedError").show()):$(".globalMessages .maxSelectionAllowedError").hide(),_AMOUNT_SELECTIONS_ON_BETSLIP>0&&_MIN_SELECTIONS_ALLOWED[_BETSLIP_TYPE]>_AMOUNT_SELECTIONS_ON_BETSLIP?(_SHOW_GLOBAL_MESSAGES=!0,_ERROR=!0,$(".globalMessages .minSelectionAllowedError .minSelectionsAllowed").html(_MIN_SELECTIONS_ALLOWED[_BETSLIP_TYPE]),"placeBet"==_TRIGGERED_BY?$(".globalMessages .minSelectionAllowedError").show():$(".globalMessages .minSelectionAllowedError").hide()):$(".globalMessages .minSelectionAllowedError").hide();var i=getErrorsSelectionsBetslip();if(null!=i){for(var j in i)_SHOW_GLOBAL_MESSAGES=!0,_ERROR=!0;void 0!==i.illegalHookupSelectionErrors||void 0!==i.gameDenyErrors||void 0!==i.illegalSportsErrors?(_SHOW_GLOBAL_MESSAGES=!0,_ERROR=!0,"placeBet"==_TRIGGERED_BY?$(".globalMessages .illegalSelectionBetTypeError").show():$(".globalMessages .illegalSelectionBetTypeError").hide()):$(".globalMessages .illegalSelectionBetTypeError").hide(),void 0!==i.illegalHookupCombinationErrors||void 0!==i.sameGameDenyErrors||void 0!==i.illegalHookupCombinationErrors?(_SHOW_GLOBAL_MESSAGES=!0,_ERROR=!0,"placeBet"==_TRIGGERED_BY?$(".globalMessages .illegalHookupCombinationErrors").show():$(".globalMessages .illegalHookupCombinationErrors").hide()):$(".globalMessages .illegalHookupCombinationErrors").hide()}else $(".globalMessages .illegalSelectionBetTypeError").hide(),$(".globalMessages .illegalHookupCombinationErrors").hide();checkOpenBetDenyError()?(_SHOW_GLOBAL_MESSAGES=!0,_ERROR=!0,"placeBet"==_TRIGGERED_BY?$(".globalMessages .openBetDenyError").show():$(".globalMessages .openBetDenyError").hide()):$(".globalMessages .openBetDenyError").hide(),_SHOW_GLOBAL_MESSAGES?$("#betslip .globalMessages").show():$("#betslip .globalMessages").hide(),$("#betslip .emptyBetslip").hide(),(isNaN(b)||""==b)&&(b=0),$("#betslip .maxToWin").html(b),$("#betslip .maxRisk").html(c),"rndrobin"!=_BETSLIP_TYPE||""!=$.trim($("#riskAmount").val())&&"0"!=$.trim($("#riskAmount").val())||($("#betslip .maxToWin").html(""),$("#betslip .maxRisk").html("")),$("#betslip #roundRobinType").val()>_ROUND_ROBIN_TYPE&&($("#betslip #roundRobinType").val(_ROUND_ROBIN_TYPE),$("#betslip #roundRobinType option[value="+_ROUND_ROBIN_TYPE+"]").attr("selected","selected")),"rndrobin"==_BETSLIP_TYPE&&(_AMOUNT_SELECTIONS_ON_BETSLIP<3?$("#betslip #placeBetWrap").hide():$("#betslip #placeBetWrap").show()),markBlockedSelections(),sortElements(),markSelectionsErrorBetslip(),isNaN(b)||_GLOBAL_WIN_AMOUNT==b||(_GLOBAL_WIN_AMOUNT=b),"display: none;"==$("body.xs #betslip .fpSelectorWrap").attr("style")?$("body.xs #betslip .selection .amount").css("width","75%"):$("body.xs #betslip .selection .amount").css("width","70%"),$("body.xs #betslip .message").each(function(){"display: block;"==$(this).attr("style")&&$(this).parent().css("display","block")}),0==_AMOUNT_SELECTIONS_ON_BETSLIP?($("#placeBet").html(getTextJs.sportbook_betslip_YourBetSlipIsEmpty),$("#placeBet").css("border","1px solid #dddddd"),$("#placeBet").css("background","linear-gradient(to bottom, #dddddd 0%, #dddddd 100%)"),$("#placeBet").css("color","#000000"),$("#betslip .emptyBetslip").hide(),_BETSLIP_IS_ENABLED=!1):($("#placeBet").html(getTextJs.sportbook_betslip_PlaceBet),$("#placeBet").css("border","1px solid #BDBDBD"),$("#placeBet").css("background","linear-gradient(to bottom, #FFDF1B 0%, #FFDF1B 100%)"),$("#placeBet").css("color","#000000"),$("#betslip .emptyBetslip").hide(),_BETSLIP_IS_ENABLED=!0),_TRIGGERED_BY=""}function changeStyles(){switch($("#betslip .betslipTypeSelector .option").removeClass("selected"),$("#betslip .betslipTypeSelector .option."+_BETSLIP_TYPE).addClass("selected"),$("#cbmBetType").val(_BETSLIP_TYPE),$("#shopping-cart").html(_AMOUNT_SELECTIONS_ON_BETSLIP),_AMOUNT_SELECTIONS_ON_BETSLIP<=0?$("#shopping-cart").hide():$("#shopping-cart").show(),$("#betslip .ifLabel").hide(),$("#betslip #addOpenBetWrap").hide(),$("#betslip #roundRobinSelectorWrap").hide(),$("#betslip #teaserSelectorWrap").hide(),$("#betslip .teaserAmounts").hide(),$("#betslip #ContinueOnPushFlagWrapIfBet").hide(),$("#betslip #ContinueOnPushFlagWrapReverse").hide(),$("#betslip .reverseAmountWrap").hide(),$("#betslip .lowLimitError").hide(),$("#betslip .highLimitError").hide(),$("#betslip").removeClass("hideOdds"),$("#betslip .selection .amountMenu").hide(),$("#betslip .globalAmount").hide(),$("#betslip .allAmountMenu").hide(),_BETSLIP_TYPE){case"straight":_AMOUNT_SELECTIONS_ON_BETSLIP>1?$("#betslip .maxAmounts").show():$("#betslip .maxAmounts").hide(),_AMOUNT_SELECTIONS_ON_BETSLIP>1?$("#betslip .allAmountMenu").show():$("#betslip .allAmountMenu").hide(),$("#betslip .selection .amountMenu").show();break;case"parlay":$("#betslip .maxAmounts .maxLimitWrap").show(),_AMOUNT_SELECTIONS_ON_BETSLIP>1?$("#betslip .maxAmounts").show():$("#betslip .maxAmounts").hide(),_AMOUNT_SELECTIONS_ON_BETSLIP>0?$("#betslip .globalAmount").show():$("#betslip .globalAmount").hide(),_MAX_SELECTIONS_ALLOWED.parlay>_AMOUNT_SELECTIONS_ON_BETSLIP&&_AMOUNT_SELECTIONS_ON_BETSLIP_NO_OPEN>=1?$("#betslip #addOpenBetWrap").show():$("#betslip #addOpenBetWrap").hide();break;case"rndrobin":for(var a=0;a<$("#betslip #roundRobinType option").size()+1;a++)a+1>_AMOUNT_SELECTIONS_ON_BETSLIP&&a+1>2?$("#betslip #roundRobinType option[value="+(a+1)+"]").hide():$("#betslip #roundRobinType option[value="+(a+1)+"]").show();$("#betslip #roundRobinType").val()>_AMOUNT_SELECTIONS_ON_BETSLIP&&($("#betslip #roundRobinType").val(_AMOUNT_SELECTIONS_ON_BETSLIP),$("#betslip #roundRobinType option[value="+_AMOUNT_SELECTIONS_ON_BETSLIP+"]").attr("selected","selected")),_AMOUNT_SELECTIONS_ON_BETSLIP>1?$("#betslip .maxAmounts").show():$("#betslip .maxAmounts").hide(),$("#betslip #roundRobinSelectorWrap").show(),_AMOUNT_SELECTIONS_ON_BETSLIP>0?$("#betslip .globalAmount").show():$("#betslip .globalAmount").hide();break;case"teaser":_AMOUNT_SELECTIONS_ON_BETSLIP>1?$("#betslip .maxAmounts").show():$("#betslip .maxAmounts").hide(),$("#betslip #teaserSelectorWrap").show(),_MAX_SELECTIONS_ALLOWED.teaser>_AMOUNT_SELECTIONS_ON_BETSLIP&&_AMOUNT_SELECTIONS_ON_BETSLIP_NO_OPEN>=1?$("#betslip #addOpenBetWrap").show():$("#betslip #addOpenBetWrap").hide();break;case"ifbet":_AMOUNT_SELECTIONS_ON_BETSLIP>1?$("#betslip .maxAmounts").show():$("#betslip .maxAmounts").hide(),$("#ContinueOnPushFlagWrapIfBet").show(),$("#betslip .selection").first().find(".ifLabel").hide(),$("#betslip .selection").first().siblings().find(".ifLabel").show(),$("#betslip .ContinueOnPushFlag").val(_CONTINUE_ON_PUSH_FLAG),_AMOUNT_SELECTIONS_ON_BETSLIP>1?$("#betslip .allAmountMenu").show():$("#betslip .allAmountMenu").hide(),$("#betslip .selection .amountMenu").show();break;case"reverse":_AMOUNT_SELECTIONS_ON_BETSLIP>1?$("#betslip .maxAmounts").show():$("#betslip .maxAmounts").hide(),$("#betslip #ContinueOnPushFlagWrap").show(),$("#betslip #ContinueOnPushFlagWrapReverse").show(),$("#betslip .ContinueOnPushFlag").val(_CONTINUE_ON_PUSH_FLAG),$("#betslip .reverseAmountWrap").show()}}function closeBalloons(){var a=$(".balloon-div");$.each(a,function(a,b){$(b).fadeOut(500)})}function addToBetslipClick(){var a=$(this),b=a.attr("selectionid");if(void 0!==_SELECTIONS_ON_BETSLIP[b]||a.hasClass("blocked"))delete _SELECTIONS_ON_BETSLIP[b],_AMOUNT_SELECTIONS_ON_BETSLIP--,_AMOUNT_SELECTIONS_ON_BETSLIP_NO_OPEN--;else{var c=getNextOrderSelectionOnBetSlip(),d=a.attr("chosenteamid"),e=a.attr("totalpointsou"),f=a.attr("threshold");f=""==f?a.find(".threshold").text():f;var g=a.attr("us"),h=a.attr("dec"),i=a.attr("gamenum"),j=a.attr("mainbet"),k=a.attr("isfuture"),l=a.attr("periodnumber"),m=a.attr("bettypeis"),n=a.attr("contestnum"),o=a.attr("contestantnum"),p=a.attr("sporttype"),q=a.attr("sportsubtype"),r=a.attr("parlayrestriction"),s=a.attr("groupdescription"),t=a.attr("betdescription"),u=a.attr("listedpitcher1"),v=a.attr("listedpitcher2"),w=a.attr("isparlay"),x=a.attr("isStraight"),y=a.attr("isteaser"),z=a.attr("scheduletext"),A=$("tr[gamenum='"+i+"'].away").find(".teamName").eq(0).text(),B=$("tr[gamenum='"+i+"'].home").find(".teamName").eq(0).text(),C=makeSelectionForBetslip(c,b,f,g,"0","0",h,"0",0,i,j,k,l,m,d,e,n,o,p,q,r,0,s,t,u,v,A,B,w,x,y,z);_SELECTIONS_ON_BETSLIP[b]=C,a.showBalloon({position:"top center",contents:"<center>Added to Betslip</center>",offsetY:-5,maxLifetime:1500,showDuration:0,showAnimation:function(a){this.fadeIn(a)},hideDuration:500,hideAnimation:function(a){this.fadeOut(a)},classname:"balloon-div",css:{backgroundColor:"#facc2e",color:"black",border:"solid 1px #2E2E2E"}}),_AMOUNT_SELECTIONS_ON_BETSLIP++,_AMOUNT_SELECTIONS_ON_BETSLIP_NO_OPEN++}loadSelectionsOnBetslipLimits(),updateBetSlip()}function makeSelectionForBetslip(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F){var G=new Object;return G.order=a,G.selectionId=b,G.threshold=c,G.US=d,G.Num=e,G.Den=f,G.Dec=g,G.fp=h,G.isOpenSelection=i,G.GameNum=j,G.isMainBet=k,G.isFuture=void 0===l?"0":l,G.PeriodNumber=m,G.betType=n,G.ChosenTeamID=o,G.TotalPointsOU=p,G.ContestNum=q,G.ContestantNum=r,G.SportType=s,G.SubSportType=t,G.thresholdTeaser=v,G.ParlayRestriction=u,G.groupdescription=w,G.betdescription=x,G.isStraight=D,G.isParlay=C,G.isTeaser=E,G.listedpitcherhome=y,G.listedpitcheraway=z,G.scheduletext=F,G.awayTeamID=A,G.homeTeamID=B,G.moreOdds={},G.pitcherOptions={},computePoints(G),computePitchers(G),G.originalSelection=$.extend(!0,{},G),G}function getNextOrderSelectionOnBetSlip(){var a=0;for(var b in _SELECTIONS_ON_BETSLIP){var c=_SELECTIONS_ON_BETSLIP[b],d=parseInt(c.order);a<d&&(a=d)}return a+1}function hightLigthSelectionOnBetslip(){$(".selection").removeClass("onBetslip"),$(".addToBetslip").removeClass("onBetslip"),$.each(_SELECTIONS_ON_BETSLIP,function(a,b){var c=$("button[selectionid='"+a+"']");c.addClass("onBetslip");var c=$("li[selectionid='"+a+"']");c.addClass("onBetslip")})}function getMaxSelectionsAllowedTeaser(){var a=siteCache.customer.teasers;return void 0!==a[_TEASER_TYPE]?parseInt(a[_TEASER_TYPE].MaxPicks):0}function getMinSelectionsAllowedTeaser(){var a=siteCache.customer.teasers;return void 0!==a[_TEASER_TYPE]?parseInt(a[_TEASER_TYPE].MinPicks):0}function checkLimitsHookup(a,b,c){isIsset(a)&&$(".maxbet .limit").html(a.high);var d=!1;if(_AMOUNT_SELECTIONS_ON_BETSLIP>0&&null!=a){var e=b;null!=c&&e>c&&(e=c);var f=!1;"parlay"==_BETSLIP_TYPE&&parseFloat(c)>=parseFloat(siteCache.customer.ParlayMaxPayout)/100&&parseFloat(a.high)>parseFloat(siteCache.customer.ParlayMaxPayout)/100&&(f=!0),f&&(e=Math.max(parseFloat(b),parseFloat(c)));var g=combineSelectionsOnBetslip(),h="rndrobin"===_BETSLIP_TYPE?g.length:1;parseFloat(a.low)*h>e?"placeBet"===_TRIGGERED_BY&&(d=!0,$("#betslip .lowLimitError .amount").html(a.low),$("#betslip .lowLimitError").show()):$("#betslip .lowLimitError").hide(),parseFloat(a.high)*h<e?(d=!0,$("#betslip .highLimitError .amount").html(a.high),$("#betslip .highLimitError .betedAmount").html(a.betedAmount),$("#betslip .highLimitError .total").html(a.total),$("#betslip .highLimitError").show()):$("#betslip .highLimitError").hide()}else $("#betslip .lowLimitError").hide(),$("#betslip .highLimitError").hide();return d}function updateFreePlayCheck(){var a=siteCache.customer,b=parseFloat(a.FreePlayBalance);if(b<=0||"straight"!=_BETSLIP_TYPE?($("#betslip .maxAmounts .maxRiskWrap").css("width","100%"),$("#betslip .maxAmounts .maxToWinWrap").css("width","100%"),$("#betslip .teaserAmounts .maxRiskWrap").css("width","50%"),$("#betslip .teaserAmounts .maxToWinWrap").css("width","50%"),$("#betslip .globalFreePlayWrap").hide(),$("#betslip .fpSelectorWrap").hide(),$("#betslip .amountMenu .amount").css("width","65%"),$("#betslip .selection .selectionDescWrap .oddsWrap").css("width","30.5%")):($("#betslip .maxAmounts .maxRiskWrap").css("width","100%"),$("#betslip .maxAmounts .maxToWinWrap").css("width","100%"),$("#betslip .teaserAmounts .maxRiskWrap").css("width","43.5%"),$("#betslip .teaserAmounts .maxToWinWrap").css("width","43.5%"),_AMOUNT_SELECTIONS_ON_BETSLIP>0?$("#betslip .globalFreePlayWrap").show():$("#betslip .globalFreePlayWrap").hide(),"hidden"!=$("#betslip .fpSelectorWrap").css("visibility")?($("#betslip .fpSelectorWrap").show(),$("#betslip .amountMenu .amount").css("width","60%"),$("#betslip .selection .selectionDescWrap .oddsWrap").css("width","45%")):($("#betslip .fpSelectorWrap").hide(),$("#betslip .amountMenu .amount").css("width","65%"),$("#betslip .selection .selectionDescWrap .oddsWrap").css("width","30%"))),b<=0){"1"==_FREE_PLAY_CHECKED&&(_FREE_PLAY_CHECKED="0");for(var c in _SELECTIONS_ON_BETSLIP)"1"==_SELECTIONS_ON_BETSLIP[c].fp&&(_SELECTIONS_ON_BETSLIP[c].fp=0)}var d=$("#betslip .globalFreePlayWrap input");"1"!=_FREE_PLAY_CHECKED||d.is(":checked")?"1"!=_FREE_PLAY_CHECKED&&d.is(":checked")&&d.click():d.click()}function loadSelectionsOnBetslipLimits(){null!=_LIMITS_AJAX&&_LIMITS_AJAX.abort(),_AMOUNT_SELECTIONS_ON_BETSLIP_NO_OPEN>0&&(_LIMITS_AJAX=$.ajax({url:"/Sportbook/getselectionslimits",dataType:"json",cache:!1,method:"POST",data:{selectionsOnBetslip:JSON.stringify(_SELECTIONS_ON_BETSLIP),roundrobinType:_ROUND_ROBIN_TYPE,fullcustomerAgent:$("#sp_CustomerID").val()}}).done(function(a){_LIMITS=a,updateBetSlip()}))}function updateBetslipSelections(){for(var a=$("#betslip .selection"),b=0;b<a.length;b++){var c=a.eq(b);void 0===_SELECTIONS_ON_BETSLIP[c.attr("selectionId")]&&c.remove()}var d=!1,e=!1,f=!1,g=!1;for(var h in _SELECTIONS_ON_BETSLIP){var i=_SELECTIONS_ON_BETSLIP[h];if("1"!=i.isOpenSelection){var j=drawSelectionBetslip(i);j.unavailableError&&(d=!0),j.amountError&&(e=!0),j.changeSelectionError&&(f=!0),j.restWagerError&&(g=!0)}else drawSelectionOpenSelectionBetslip(i)}return{unavailableError:d,amountError:e,changeSelectionError:f,restWagerError:g}}function drawSelectionBetslip(a){var b=getOddsStyle(),c=!1,d=!1,e=!1,f=!1,g=a.awayTeamID,h=a.homeTeamID,i=a.threshold,j="betslip_selection_"+a.selectionId;if(0==$("#"+j).length){var k="";if("Baseball"==a.SportType&&void 0!==a.pitcherOptions){var l="";if(countObject(a.pitcherOptions)>1){l+="<select class='pitcherSelector form-control'>";for(var m in a.pitcherOptions){var n=a.pitcherOptions[m];l+="<option value='"+n+"'>"+n+"</option>"}l+="</select>"}else for(var m in a.pitcherOptions)l=a.pitcherOptions[m]+"<input type='hidden' name='pitcherSelector' class='pitcherSelector' value='"+a.pitcherOptions[m]+"' />";k="<div class='pitcherSelectorWrap'>"+l+"</div>"}var o=!1;$("#globalFreePlay").is(":checked")&&(o=!0);var p="",p="<div class='selection secret' id='"+j+"' selectionId='"+a.selectionId+"' order='"+a.order+"'>";p+="<div class='ifLabel secret margin-bottom'>IF</div>",p+="<div class='panel panel-default'  >",p+="<div class='panel-heading pannel-heading-2'>",p+="<div class='selectionTitleTable'>",p+="<div class='ellipsisTitle'>",a.isFuture&&""==g?p+=a.groupdescription:p+=h+" vs "+g,p+="</div>",p+="<div class='removeFromBetslipWrap'>",p+="<span class='glyphicon glyphicon-remove removeFromBetslip' selectionid='"+a.selectionId+"' aria-hidden='true'></span>",p+="</div>",p+="</div>",p+="</div>",p+="<div class='panel-body'>",p+="<div>",a.isFuture&&""==g?p+="<div class='descBet'> "+a.betdescription+" </div>":p+="<div class='descBet'> "+a.groupdescription+" - "+a.betdescription+" </div>",""===k?(p+="<div class='desc' style='width:50%'>"+a.ChosenTeamID+"</div>",p+="<div class='selectionDescWrap' style='width:35%'>",p+="<div class='oddsWrap' style='width:1%'>",p+="<div class='defaultOdds'>",p+="<span class='threshold'></span> <span class='odds'></span>",p+="</div>",p+="<select class='buyPoints form-control sort' id='sele_buyPoints'></select>",p+="</div>",p+="</div>"):p+="<div class='desc'>"+a.ChosenTeamID+"</div>","Baseball"==a.SportType&&(p+="<div class='descBet'> "+a.listedpitcheraway+" </div>",p+="<div class='descBet'> "+a.listedpitcherhome+" </div>"),p+="<div style='clear:both;'></div>",p+="</div>",console.log("pitcherWrap "+k),""!==k&&(p+="<div class='selectionDescWrap'>",p+=k,p+="<div class='oddsWrap'>",p+="<div class='defaultOdds'>",p+="<span class='threshold'></span> <span class='odds'></span>",p+="</div>",p+="<select class='buyPoints form-control sort' id='sele_buyPoints'></select>",p+=" </div>",p+="</div>",p+="<div class='margin-bottom'></div>"),p+="<div class='maxbet'>",p+=getTextJs.sportbook_betslip_MaxAmount+": <span class='limit'></span>",p+="</div>",p+="<div class='amountMenu'>",p+="<div class='table'>",p+="<div class='cell riskWrap' onclick='setInputToWriteSpan(&quot;risk_"+a.selectionId+"&quot;)'><label style='width:21%;'>"+getTextJs.sportbook_betslip_Risk+":</label><input id='risk_"+a.selectionId+"' type='number' pattern='[0-9]*' inputmode='numeric' name='risk' value='' class='amount riskAmount' style='float: right;' /></div>",p+="<div class='cell winWrap' onclick='setInputToWriteSpan(&quot;win_"+a.selectionId+"&quot;)'><label style='width:21%;'>"+getTextJs.sportbook_betslip_Win+":</label><input  id='win_"+a.selectionId+"'  type='number' pattern='[0-9]*' inputmode='numeric' name='win' value='' class='amount winAmount' style='float: right;' /></div>",p+="<div class='cell fpSelectorWrap'>FP:&nbsp;<input type='checkbox' name='selectionFreePlay' class='selectionFreePlay' "+(o?"checked='checked'":"")+" value='1'/></div>",p+="</div>",p+="</div>",p+="<div class='messages'>",p+="<div class='secret margin-top message hightLimitMessage'>",p+="<span class='glyphicon glyphicon-usd' aria-hidden='true'></span> ",p+=getTextJs.sportbook_betslip_BetAmountHasToBeUnder+" <span class='limit'></span><br/>(Bet:<span class='betedAmount'></span>/<span class='total'></span>)",p+="</div>",p+="<div class='secret margin-top message lowLimitMessage'>",p+="<span class='glyphicon glyphicon-usd' aria-hidden='true'></span> ",p+=getTextJs.sportbook_betslip_BetAmountHasToBeOver+" <span class='limit'></span>",p+="</div>",p+="<div class='secret margin-top message unavailbleMessage'>",p+="<span class='glyphicon glyphicon-ban-circle' aria-hidden='true'></span> ",p+=getTextJs.sportbook_betslip_SelectionUnavailable,p+="</div>",p+="<div class='secret margin-top message transactionFailed' style='display:none'>",p+="<span class='glyphicon glyphicon-ban-circle' aria-hidden='true'></span> ",p+="<span id='TransactionMessage'></span>",p+="</div>",p+="<div class='secret margin-top message changeSelectionError'>",p+="<span class='glyphicon glyphicon-exclamation-sign' aria-hidden='true'></span> ",p+=getTextJs.sportbook_betslip_SelectionChanged,p+="<button class='btn btn-success btn-xs acceptChangesSelection' type='button'>Accept</button>",p+="</div>",p+="</div>",p+="</div>",p+="</div>",p+="</div>",$("#betslip .selections").append(p),updateFreePlayCheck(),$("#"+j+" .selectionFreePlay").checkbox({buttonStyle:"btn-base",buttonStyleChecked:"btn-success",checkedClass:"icon-check",uncheckedClass:"icon-check-empty"}),$("#"+j).show(),setBetslipEvents()}var q=$.extend({},a.originalSelection);"teaser"==_BETSLIP_TYPE&&0!=a.thresholdTeaser&&(q.threshold=a.thresholdTeaser),updateSelection(q,$("#"+j+" .defaultOdds"),b);var r=!1,s=new Object;if(void 0!==a.moreOdds){var t=$("#"+j+" .buyPoints");if("A"==siteCache.customer.PriceType)for(var m in a.moreOdds){r=!0;var q=a.moreOdds[m];q.betType=a.betType,q.ChosenTeamID=a.ChosenTeamID;var v=sanitiazeId(j+"_"+q.threshold);s[v]=!0,0==$("#"+v).length&&t.append("<option id='"+v+"' value='"+q.threshold+"'></option>");var w=formatThreshold(q);w="U"==w.charAt(0)||"O"==w.charAt(0)?w.slice(1):w,$("#"+v).html(w+" "+formatOdds(q,b)),$("#"+v).attr("order",q.threshold),q.threshold==a.threshold?$("#"+v).addClass("default"):$("#"+v).removeClass("default"),q.threshold==i&&$("#"+v).prop("selected",!0)}else for(var m in a.moreOdds){r=!0;var q=a.moreOdds[m];q.betType=a.betType,q.ChosenTeamID=a.ChosenTeamID;var v=sanitiazeId(j+"_"+q.threshold);s[v]=!0,0==$("#"+v).length&&t.append("<option id='"+v+"' value='"+q.threshold+"'></option>");var w=formatThreshold(q);w="U"==w.charAt(0)||"O"==w.charAt(0)?w.slice(1):w,$("#"+v).html(w+" "+FixedNumbers(q.Dec)),$("#"+v).attr("order",q.threshold),q.threshold==a.threshold?$("#"+v).addClass("default"):$("#"+v).removeClass("default"),q.threshold==i&&$("#"+v).prop("selected",!0)}}void 0!==a.pitcher&&$("#"+j+" .pitcherSelector").val(a.pitcher);for(var x=$("#"+j+" .buyPoints option"),m=0;m<x.length;m++){var y=x.eq(m);void 0===s[y.attr("id")]&&y.remove()}!r||"straight"!=_BETSLIP_TYPE&&"parlay"!=_BETSLIP_TYPE?($("#"+j+" .defaultOdds").show(),$("#"+j+" .buyPoints").hide(),$("#"+j+" .oddsWrap").removeClass("buyPointsOn")):($("#"+j+" .defaultOdds").hide(),$("#"+j+" .buyPoints").show(),$("#"+j+" .oddsWrap").addClass("buyPointsOn")),$("#"+j+" .winAmount").val(a.winAmount),$("#"+j+" .riskAmount").val(a.riskAmount);var z=$("#"+j+" .fpSelectorWrap input");"1"!=a.fp||z.is(":checked")||z.click(),"1"!=a.fp&&z.is(":checked")&&z.click();var A=getFinalOddsSelection(a);A.threshold!=a.threshold||A.US!=a.US?(d=!0,$("#"+j+" .messages .changeSelectionError").show(),$("#"+j+" .acceptChangesWrap").show()):($("#"+j+" .messages .changeSelectionError").hide(),$("#"+j+" .acceptChangesWrap").hide()),"straight"==_BETSLIP_TYPE||"ifbet"==_BETSLIP_TYPE||"reverse"==_BETSLIP_TYPE?void 0!==_LIMITS.straight&&void 0!==_LIMITS.straight[a.selectionId]&&$("#"+j+" .maxbet .limit").html(_LIMITS.straight[a.selectionId].high):"parlay"==_BETSLIP_TYPE||"rndrobin"==_BETSLIP_TYPE?void 0!==_LIMITS.parlay&&$("#betslip .maxAmounts  .maxLimit").html(_LIMITS.parlay.high):"teaser"==_BETSLIP_TYPE?void 0!==_LIMITS.teaser&&$("#"+j+" .maxbet .limit").html(_LIMITS.teaser.high):$("#"+j+" .maxbet .limit").html(""),"straight"==_BETSLIP_TYPE&&isNaN(parseFloat(a.riskAmount))&&(e=!0),"straight"==_BETSLIP_TYPE&&1!=a.isStraight&&(f=!0),"parlay"!=_BETSLIP_TYPE&&"rndrobin"!=a||1==a.isParlay||(f=!0),"teaser"==_BETSLIP_TYPE&&1!=a.isTeaser&&(f=!0);var B=!1,C=!1,D=Math.min(parseFloat(a.riskAmount),parseFloat(a.winAmount));if(("straight"==_BETSLIP_TYPE||"ifbet"==_BETSLIP_TYPE)&&void 0!==_LIMITS.straight){var E=a.selectionId;void 0!==_LIMITS.straight[E]&&(D<parseFloat(_LIMITS.straight[E].low)&&($("#"+j+" .messages .lowLimitMessage .limit").html(_LIMITS.straight[E].low),$("#"+j+" .messages .lowLimitMessage").show(),e=!0,B=!0),D>parseFloat(_LIMITS.straight[E].high)&&($("#"+j+" .messages .hightLimitMessage .limit").html(_LIMITS.straight[E].high),$("#"+j+" .messages .hightLimitMessage .betedAmount").html(_LIMITS.straight[E].betedAmount),$("#"+j+" .messages .hightLimitMessage .total").html(_LIMITS.straight[E].total),$("#"+j+" .messages .hightLimitMessage").show(),e=!0,C=!0))}return B||$("#"+j+" .messages .lowLimitMessage").hide(),C||$("#"+j+" .messages .hightLimitMessage").hide(),{unavailableError:c,amountError:e,changeSelectionError:d,restWagerError:f}}function updateSelection(a,b,c){if(b.parents(".selection").hasClass("contestant")){b.removeClass("secret");var d=parseInt(a.MoneyLine);d=d>0?"+"+d:d,b.find(".odds").html(d)}else{b.removeClass("secret");var e=formatThreshold(a);e=void 0!==e?"U"==e.charAt(0)||"O"==e.charAt(0)?e.slice(1):e:"",b.find(".threshold").html(e);"A"==siteCache.customer.PriceType?b.find(".odds").html(formatOdds(a,c)):b.find(".odds").html(FixedNumbers(a.Dec))}}function removeFromBetSlip(a){void 0!==_SELECTIONS_ON_BETSLIP[a]&&(delete _SELECTIONS_ON_BETSLIP[a],_AMOUNT_SELECTIONS_ON_BETSLIP--,_AMOUNT_SELECTIONS_ON_BETSLIP_NO_OPEN--,updateBetSlip())}function removeFromBetslipClick(){removeFromBetSlip($(this).attr("selectionid"))}function setAllAmountsBetslip(a,b){for(var c in _SELECTIONS_ON_BETSLIP)_SELECTIONS_ON_BETSLIP[c].selectedAmount=b,_SELECTIONS_ON_BETSLIP[c].selectedAmountType=a}function checkOpenBetDenyError(){if("parlay"==_BETSLIP_TYPE)return!1;if("teaser"==_BETSLIP_TYPE)return!1;for(var a in _SELECTIONS_ON_BETSLIP)if("1"==_SELECTIONS_ON_BETSLIP[a].isOpenSelection)return!0;return!1}function markSelectionsErrorBetslip(){var a=new Object;for(var b in _SELECTIONS_ON_BETSLIP){"1"!=_SELECTIONS_ON_BETSLIP[b].isOpenSelection&&(a[b]=_SELECTIONS_ON_BETSLIP[b].originalSelection)}var d=getSelectionsError(a),e=new Object;for(var f in d)for(var g=d[f],h=0;h<g.length;h++)for(var i=0;i<g[h].length;i++)e[d[f][h][i]]=!0;for(var b in _SELECTIONS_ON_BETSLIP){var j="betslip_selection_"+b;void 0!==e[b]?$("#"+j).addClass("error"):$("#"+j).removeClass("error")}}function addOpenSelectionToBetslipClick(){var a=getNextOrderSelectionOnBetSlip(_SELECTIONS_ON_BETSLIP),b="openSelection_"+a,c=makeSelectionForBetslip(a,b,"0","0","0","0","0","0",1,"0","0","0","","","","","","","","","",0,"","","","","","");_SELECTIONS_ON_BETSLIP[b]=c,_AMOUNT_SELECTIONS_ON_BETSLIP++,updateBetSlip()}function drawSelectionOpenSelectionBetslip(a){var b="betslip_selection_"+a.selectionId;if(0==$("#"+b).length){var c="<div class='secret selection openSelection margin-bottom' id='"+b+"' selectionId='"+a.selectionId+"' order='"+a.order+"'><div class='selectionTitleTable'><div class='ellipsisTitle'>Open Selection</div><div class='removeFromBetslipWrap'><span class='glyphicon glyphicon-remove removeFromBetslip' selectionid='"+a.selectionId+"' aria-hidden='true'></span></div></div></div>";$("#betslip .selections").append(c),$("#"+b).show(),setBetslipEvents()}}function getUpdatedLinesForSelectionsOnBetslip(){$.ajax({url:"/Sportbook/getUpdateLinesForBetslip",dataType:"json",cache:!1,method:"POST",data:{selectionsOnBetslip:JSON.stringify(filterSelections())}}).done(function(a){var b=!1;for(var d in a){var e=_SELECTIONS_ON_BETSLIP[d].originalSelection;selectionsHasOddsChanged(e,a[d])&&(b=!0,e.moreOdds={},computePoints(e),_SELECTIONS_ON_BETSLIP[d].moreOdds=e.moreOdds,_SELECTIONS_ON_BETSLIP[d].originalSelection.US=a[d].US,_SELECTIONS_ON_BETSLIP[d].originalSelection.Dec=a[d].dec,_SELECTIONS_ON_BETSLIP[d].originalSelection.threshold=a[d].threshold,$("button[selectionid='"+d+"']").length>0&&!0)}b&&(console.log("CAMBIANDO"),updateBetSlip())})}function selectionsHasOddsChanged(a,b){return void 0!==a&&void 0!==b&&(a.US!=b.US||a.Dec!=b.dec||a.threshold!=b.threshold)}function computeThresholdTeaser(){if("teaser"===_BETSLIP_TYPE)for(var a in _SELECTIONS_ON_BETSLIP){var b=_SELECTIONS_ON_BETSLIP[a];if("1"!=b.isOpenSelection){var c=void 0!==b.SubSportType?b.SubSportType.trim():"",d=void 0!==b.SportType?b.SportType.trim():"",e=b.betType,f=siteCache.customer.teasers[_TEASER_TYPE];if(null!=f&&void 0!==f&&void 0!==f.SportTypes[d]&&void 0!==f.SportTypes[d][e]&&void 0!==f.SportTypes[d][e][c]){var g=parseFloat(f.SportTypes[d][e][c]),h=parseFloat(b.threshold),i=h;"S"==e&&(i=h+g),"L"==e&&(i="Over"==b.ChosenTeamID?h-g:h+g),i!=b.thresholdTeaser&&(_SELECTIONS_ON_BETSLIP[a].thresholdTeaser=i)}}}}function computeBetslipSelectionsAmounts(){for(var a in _SELECTIONS_ON_BETSLIP){var b=_SELECTIONS_ON_BETSLIP[a];if("1"!=b.isOpenSelection){var c=getFinalOddsSelection(b),d=parseFloat(b.selectedAmount),e="",f="";if(!isNaN(d)){var g=b.selectedAmountType;"winAmount"==g||"betAmount"==g&&parseFloat(c.US)<0?(e=b.selectedAmount,f=computeRiskAmount(c,d)):(f=b.selectedAmount,e=computeWinAmount(c,d))}b.riskAmount==f&&b.winAmount==e||(_SELECTIONS_ON_BETSLIP[a].riskAmount=f,_SELECTIONS_ON_BETSLIP[a].winAmount=e)}}}function getFinalOddsSelection(a){var b=a.threshold,c=a.originalSelection,d=null;if(void 0!==c.moreOdds)for(var e in c.moreOdds)if(parseFloat(e)==parseFloat(b)){d=c.moreOdds[e];break}return null===d&&(d=c),d}function computeRiskAmount(a,b){var c=getOddsStyle();if(c==ODDS_STYLE_DECIMAL){var d=parseFloat(a.Dec)-1;return myRound(b/d,2)}if(c==ODDS_STYLE_FRACTIONAL){var e=parseInt(a.Num),f=parseInt(a.Den);return myRound(b*f/e,2)}if(c==ODDS_STYLE_HONGKONG){var d=parseFloat(a.Dec)-1;return myRound(b/d,2)}if(c==ODDS_STYLE_US){var g=parseFloat(a.US);return g>0?myRound(100*b/g,2):myRound(-g*b/100,2)}return""}function computeWinAmount(a,b){var c=getOddsStyle();if(c==ODDS_STYLE_DECIMAL){var d=parseFloat(a.Dec)-1;return myRound(b*d,2)}if(c==ODDS_STYLE_FRACTIONAL){var e=parseInt(a.Num),f=parseInt(a.Den);return myRound(b*e/f,2)}if(c==ODDS_STYLE_HONGKONG){var d=parseFloat(a.Dec)-1;return myRound(b*d,2)}if(c==ODDS_STYLE_US){var g=parseFloat(a.US);return g>0?myRound(g*b/100,2):myRound(-100*b/g,2)}return""}function computeMaxWinAmount(){switch(_BETSLIP_TYPE){case"straight":case"ifbet":return computeStraightToWin();case"parlay":return computeParlayToWin();case"rndrobin":return computeRoundRobinToWin();case"teaser":return getTeaserWin();case"reverse":return getReverseMaxWin()}return 0}function computeStraightToWin(){var a=0;for(var b in _SELECTIONS_ON_BETSLIP)a+=parseFloat(_SELECTIONS_ON_BETSLIP[b].winAmount);return a}function computeParlayToWin(){var a=new Array;for(var b in _SELECTIONS_ON_BETSLIP)a.push(b);return computeParlayToWinAux(a)}function computeRoundRobinToWin(){for(var a=combineSelectionsOnBetslip(),b=0,c=0;c<a.length;c++)b+=computeParlayToWinAux(a[c],_SELECTIONS_ON_BETSLIP);return b}function getTeaserWin(){if("win"==_TEASER_AMOUNT_TYPE)return _TEASER_AMOUNT;if(isNaN(parseFloat(_TEASER_AMOUNT)))return"";_TEASER_AMOUNT=parseFloat(_TEASER_AMOUNT);var a=getCurrentPayCard();return null!=a?_TEASER_AMOUNT*parseFloat(a.MoneyLine)/parseFloat(a.ToBase):0}function getReverseMaxWin(){var a=getReverseOdds();return null==a.maxOdds||0==a.maxOdds?0:a.maxOdds>0?_REVERSE_AMOUNT*a.maxOdds/100:100*-_REVERSE_AMOUNT/a.maxOdds}function getReverseOdds(){for(var a=getReverseCombinations(),b=new Object,c=0;c<a.length;c++)for(var d=a[c],e=0;e<d.length;e++)b[d[e].selectionId]=!0;for(var f=getSelectionPosibilities(b),g=null,h=null,i=0;i<f.length;i++){for(var j=f[i],k=0,c=0;c<a.length;c++)for(var d=a[c],e=0;e<d.length;e++){var l=d[e],m=parseInt(l.US),n=l.selectionId;if("W"==j[n]&&(k+=m>0?m:100),"L"==j[n]){k+=m>0?-100:m;break}if("X"==j[n]&&"Y"!=_CONTINUE_ON_PUSH_FLAG)break}(null==g||g>k)&&(g=k),(null==h||h<k)&&(h=k)}return{minOdds:g,maxOdds:h}}function getSelectionPosibilities(a){var b=[{}];for(var c in a){for(var d=[],e=0;e<b.length;e++){var f=b[e],g=$.extend({},f),h=$.extend({},f),i=$.extend({},f);g[c]="W",d.push(g),h[c]="L",d.push(h),i[c]="X",d.push(i)}b=d}return b}function getReverseCombinations(){var a=new Array;for(var b in _SELECTIONS_ON_BETSLIP)for(var c in _SELECTIONS_ON_BETSLIP)b!=c&&a.push([_SELECTIONS_ON_BETSLIP[b],_SELECTIONS_ON_BETSLIP[c]]);return a}function getCurrentPayCard(){var a=siteCache.customer.teasers[_TEASER_TYPE];if(void 0!==a)for(var b in a.PayCard){var c=a.PayCard[b];if(c.GamesWon==_AMOUNT_SELECTIONS_ON_BETSLIP&&c.GamesPicked==_AMOUNT_SELECTIONS_ON_BETSLIP)return c}return null}function computeParlayToWinAux(a){var b=_GLOBAL_RISK_AMOUNT;if(0==b)return 0;var c=siteCache.customer,d=c.parlayInfo,e="Y"==c.CreditAcctFlag,f=parseFloat(c.ParlayMaxPayout)/100,g=getSelectionsForParlay(a),h=0,i=0;if(1==countObject(g)){var j=null;for(var k in g)if(j=g[k],0==j.isOpenSelection)break;var l=j.US>=0?1+j.US/100:1+100/Math.abs(j.US);i=(l-1)*b}else{var m=1,n=1,o=0,p=0,q=1;for(var r in g)if(1!=g[r].isOpenSelection){var s=g[r].SportType,t=g[r].betType,l=parseFloat(g[r].US)>=0?1+parseFloat(g[r].US)/100:1+100/Math.abs(parseFloat(g[r].US));h++;var u=["Basketball","Football"],v=["S","L"];$.inArray(s,u)>-1&&$.inArray(t,v)>-1?(m*=l,o++):(q*=l,p++)}if(o>1){var w=getParlayChart(d,o);if(null==w)return 0;for(var x=0;x<o;x++)n*=w.DefaultPrice>=0?1+w.DefaultPrice/100:1+100/Math.abs(w.DefaultPrice);i=(m-1)/(n-1)*(w.MoneyLine/w.ToBase)*b}else i=1==o?(m-1)*b:0;p>0&&(0!=i?i+=(parseFloat(i)+parseFloat(b))*(parseFloat(q)-1):i=b*(q-1))}i=e?i:parseFloat(i)+parseFloat(b),i=parseFloat(i).toFixed(2);var w=getParlayChart(d,h);if(0!=w.MaxPayoutMoneyLine&&0!=w.MaxPayoutToBase){var z=parseFloat(b)*parseFloat(w.MaxPayoutMoneyLine)/parseFloat(w.MaxPayoutToBase);i=parseFloat(i)>parseFloat(z)?z:i}return i=parseFloat(f)<parseFloat(i)&&f>0?f:i,parseFloat(i)}function getSelectionsForParlay(a){var b={};for(var c in a)b[a[c]]=_SELECTIONS_ON_BETSLIP[a[c]];return b}function searchParlayDetail(a,b){for(var c in b)if(b[c].GamesPicked==a)return b[c];return null}function getParlayChart(a,b){if(void 0===a.ownParlay)return null;if(void 0===a.ownParlay.DefaultPrice)return null;if(void 0===a.parlayDetails)return null;var c=searchParlayDetail(b,a.parlayDetails),d=0,e=1,f=0,g=1;if(null!=c){var h=/(.+)\s*to\s*(.+)/,i=h.exec(c.Pays_X_to_Y);null!=i&&(d=parseFloat(i[1]),e=parseFloat(i[2]));var i=h.exec(c.Max_Payout_X_to_Y);null!=i&&(f=parseFloat(i[1]),g=parseFloat(i[2]))}return{DefaultPrice:a.ownParlay.DefaultPrice,ToBase:e,MoneyLine:d,MaxPayoutMoneyLine:f,MaxPayoutToBase:g}}function combineSelectionsOnBetslip(){var a=new Array;for(var b in _SELECTIONS_ON_BETSLIP)a.push(b);return combineArray(a,2,_ROUND_ROBIN_TYPE)}function combineArray(a,b,c){for(var d=new Array,e=0;e<a.length;e++){for(var f=d.length,g=0;g<f;g++){var h=d[g].slice();h.push(a[e]),d.push(h)}d.push([a[e]])}for(var i=new Array,e=0;e<d.length;e++){var h=d[e];b<=h.length&&h.length<=c&&i.push(h)}return i}function computeMaxRiskAmount(){switch(_BETSLIP_TYPE){case"straight":return computeStraightRisk();case"parlay":return _PARLAY_RISK;case"rndrobin":return computeRoundRobinRisk();case"teaser":return getTeaserRisk();case"ifbet":return getIfBetMaxRisk();case"reverse":return getReverseMaxRisk()}}function computeStraightRisk(){var a=0;for(var b in _SELECTIONS_ON_BETSLIP)a+=parseFloat(_SELECTIONS_ON_BETSLIP[b].riskAmount);return a}function computeRoundRobinRisk(){var a=combineSelectionsOnBetslip();return _ROUND_ROBIN_RISK*a.length}function getTeaserRisk(){var a=_TEASER_AMOUNT;if("risk"==_TEASER_AMOUNT_TYPE)return a;if(isNaN(parseFloat(a)))return"";a=parseFloat(a);var b=getCurrentPayCard();return null!=b?a*parseFloat(b.ToBase)/parseFloat(b.MoneyLine):0}function getIfBetMaxRisk(){return getIfBetMaxRiskAux(getSelectionsOnBetslipArraySortedOrder())}function getSelectionsOnBetslipArraySortedOrder(){var a=new Array,b=new Object;do{var c=null,d=null;for(var e in _SELECTIONS_ON_BETSLIP){var f=_SELECTIONS_ON_BETSLIP[e],g=parseInt(f.order);void 0===b[e]&&(null==d||d>=g)&&(d=g,c=e)}null!=c&&(a.push(_SELECTIONS_ON_BETSLIP[c]),b[c]=!0)}while(null!=c);return a}function getIfBetMaxRiskAux(a){for(var b=0,c=0,d=0;d<a.length;d++){var e=a[d],f=parseFloat(e.riskAmount),g=parseFloat(e.winAmount);b<f&&(c+=f-b,b=f),b+="Y"==_CONTINUE_ON_PUSH_FLAG?0:g}return c}function getReverseMaxRisk(){var a=getReverseOdds();return null==a.minOdds||0==a.minOdds?0:a.minOdds>0?100*_REVERSE_AMOUNT/a.minOdds:-_REVERSE_AMOUNT*a.minOdds/100}function computeAmountsSelections(a,b){if("straight"!=_BETSLIP_TYPE&&"ifbet"!=_BETSLIP_TYPE||(_GLOBAL_RISK_AMOUNT=computeMaxRiskAmount()),"parlay"==_BETSLIP_TYPE&&(checkLimitsHookup(_LIMITS.parlay,a,b)&&(_SHOW_GLOBAL_MESSAGES=!0,_ERROR=!0),_GLOBAL_RISK_AMOUNT=computeMaxRiskAmount()),"rndrobin"==_BETSLIP_TYPE&&checkLimitsHookup(_LIMITS.roundRobin,a,b)&&(_SHOW_GLOBAL_MESSAGES=!0,_ERROR=!0),"teaser"==_BETSLIP_TYPE){var c=myRound(getTeaserRisk(),2),d=myRound(getTeaserWin(),2),e=myRound($("#betslip .teaserRiskAmount").val(),2),f=myRound($("#betslip .teaserWinAmount").val(),2);"win"!=_TEASER_AMOUNT_TYPE&&e==c||$("#betslip .teaserRiskAmount").val(c),"risk"!=_TEASER_AMOUNT_TYPE&&f==d||$("#betslip .teaserWinAmount").val(d);_GLOBAL_RISK_AMOUNT!=c&&(_GLOBAL_RISK_AMOUNT=c),_GLOBAL_WIN_AMOUNT!=d&&(_GLOBAL_WIN_AMOUNT=d);var h=siteCache.customer.teasers[_TEASER_TYPE];void 0!==h?($("#betslip .teaserAmounts").show(),$("#currentTeaserType").html(h.TeaserName),$("#currentTeaserType").removeClass("nonSelected")):($("#betslip .teaserAmounts").hide(),$("#currentTeaserType").html("Please select a teaser"),$("#currentTeaserType").addClass("nonSelected")),checkLimitsHookup(_LIMITS.teaser,c,d)&&(_SHOW_GLOBAL_MESSAGES=!0,_ERROR=!0)}"reverse"==_BETSLIP_TYPE&&($("#betslip .reverseAmount").val(_REVERSE_AMOUNT),checkLimitsHookup(_LIMITS.reverse,_REVERSE_AMOUNT,_REVERSE_AMOUNT)&&(_SHOW_GLOBAL_MESSAGES=!0,_ERROR=!0),_GLOBAL_RISK_AMOUNT=computeMaxRiskAmount())}function getErrorsSelectionsBetslip(){var a=new Object,b=getSelectionsOnBetslip();for(var c in _SELECTIONS_ON_BETSLIP){"1"!=b[c].isOpenSelection&&(a[c]=_SELECTIONS_ON_BETSLIP[c].originalSelection)}return getSelectionsError(a)}function getTotalAmounts(){var a=0,b=0,c=0,d=0;if("straight"==_BETSLIP_TYPE)for(var e in _SELECTIONS_ON_BETSLIP)"1"==_SELECTIONS_ON_BETSLIP[e].fp?(c+=parseFloat(_SELECTIONS_ON_BETSLIP[e].riskAmount),d+=parseFloat(_SELECTIONS_ON_BETSLIP[e].winAmount)):(a+=parseFloat(_SELECTIONS_ON_BETSLIP[e].riskAmount),b+=parseFloat(_SELECTIONS_ON_BETSLIP[e].winAmount));return"parlay"==_BETSLIP_TYPE&&(a=_GLOBAL_RISK_AMOUNT,b=computeParlayToWin()),"rndrobin"==_BETSLIP_TYPE&&(a=computeRoundRobinRisk(),b=computeRoundRobinToWin()),"teaser"==_BETSLIP_TYPE&&(a=getTeaserRisk(),b=getTeaserWin()),"ifbet"==_BETSLIP_TYPE&&(a=getIfBetMaxRisk(),b=getIfBetMaxRisk()),"reverse"==_BETSLIP_TYPE&&(a=getReverseMaxRisk(),b=getReverseMaxWin()),{risk:a,win:b,riskFP:c,winFP:d}}function setBetslipEvents(){$(".removeFromBetslip").unbind("click"),$(".removeFromBetslip").click(removeFromBetslipClick),$("#betslip .selection .amount").unbind("keyup"),$("#betslip .selection .amount").keyup(function(){var a=$(this);setTimeout(function(){var b=a.parents(".selection"),c=b.attr("selectionid"),d=a.hasClass("riskAmount")?"riskAmount":"winAmount",e=a.val();_SELECTIONS_ON_BETSLIP[c].selectedAmountType=d,_SELECTIONS_ON_BETSLIP[c].selectedAmount=e,updateBetSlip()},300)}),$("#betslip .allAmountMenu .amount").unbind("focus"),$("#betslip .allAmountMenu .amount").focus(function(){$("#betslip .allAmountMenu .amount").val("")}),$("#betslip .allAmountMenu .amount").unbind("keyup"),$("#betslip .allAmountMenu .amount").keyup(function(){var a=$(this);setTimeout(function(){a.parent().siblings().find(".amount").val("");var b="betAmount";a.hasClass("riskAmount")&&(b="riskAmount"),a.hasClass("winAmount")&&(b="winAmount");var c=a.val().trim();""!=c&&setAllAmountsBetslip(b,c),updateBetSlip()},300)}),$("#betslip .selection .buyPoints ").unbind("change"),$("#betslip .selection .buyPoints ").change(function(){var a=$(this).parents(".selection"),b=a.attr("selectionid");_SELECTIONS_ON_BETSLIP[b].threshold=$(this).val(),acceptChangesSelection(b),updateBetSlip()}),$("#betslip .globalFreePlayWrap input").unbind("click"),$("#betslip .globalFreePlayWrap input").click(function(){_FREE_PLAY_CHECKED=$(this).is(":checked")?"1":"0",updateBetSlip()}),$("#betslip .fpSelectorWrap input").unbind("click"),$("#betslip .fpSelectorWrap input").click(function(){var a=$(this).parents(".selection"),b=a.attr("selectionid");_SELECTIONS_ON_BETSLIP[b].fp=$(this).is(":checked")?"1":"0",updateBetSlip()}),$("#placeBet").unbind("click"),$("#placeBet").click(function(){$("#placeBet").prop("disabled",!0),placebet(),updateBetSlip()}),$("#placeBetFull").unbind("click"),$("#placeBetFull").click(function(){placebet(),updateBetSlip()}),$("#acceptChanges").unbind("click"),$("#acceptChanges").click(function(){acceptChanges(),updateBetSlip()}),$("#betslip .selection .acceptChangesSelection").unbind("click"),$("#betslip .selection .acceptChangesSelection").click(function(){acceptChangesSelection($(this).parents(".selection").attr("selectionId")),updateBetSlip("sportbook")}),$("#betslip .selection .pitcherSelector").unbind("change"),$("#betslip .selection .pitcherSelector").change(function(){var a=$(this);setTimeout(function(){var b=a.parents(".selection"),c=b.attr("selectionid");_SELECTIONS_ON_BETSLIP[c].pitcher=a.val(),acceptChangesSelection(c),updateBetSlip()},300)}),$("#betslip .globalAmount .riskAmount").unbind("keyup"),$("#betslip .globalAmount .riskAmount").keyup(function(){var a=$(this);setTimeout(function(){_GLOBAL_RISK_AMOUNT=a.val(),updateBetSlip()},300)}),$("#betslip #roundRobinType").unbind("change"),$("#betslip #roundRobinType").change(function(){_ROUND_ROBIN_TYPE=$(this).val(),updateBetSlip()}),$("#betslip .reverseAmount").unbind("keyup"),$("#betslip .reverseAmount").keyup(function(){var a=$(this);setTimeout(function(){_REVERSE_AMOUNT=a.val(),updateBetSlip("sportbook")},300)}),$("#betslip .teaserRiskAmount").unbind("keyup"),$("#betslip .teaserRiskAmount").keyup(function(){var a=$(this);setTimeout(function(){_TEASER_AMOUNT=a.val(),_TEASER_AMOUNT_TYPE="risk",updateBetSlip()},300)}),$("#betslip .teaserWinAmount").unbind("keyup"),$("#betslip .teaserWinAmount").keyup(function(){var a=$(this);setTimeout(function(){_TEASER_AMOUNT=a.val(),_TEASER_AMOUNT_TYPE="win",updateBetSlip()},300)}),$(".addOpenSelectionToBetslip").unbind("click"),$(".addOpenSelectionToBetslip").click(addOpenSelectionToBetslipClick),$("#betslip .ContinueOnPushFlag").unbind("change"),$("#betslip .ContinueOnPushFlag").change(function(){_CONTINUE_ON_PUSH_FLAG=$(this).val(),updateBetSlip()})}function changeGenTypeBet(a){$("#txtRisk").hide(),$("#txtWin").hide(),$("#txtBet").hide(),$(a).parents(".table").find("button").removeClass("btn-success"),$(a).addClass("btn-success"),$($(a).attr("target")).show()}function txtRiskChange(a){switch(_BETSLIP_TYPE){case"parlay":_PARLAY_RISK=$(a).val();break;case"rndrobin":_ROUND_ROBIN_RISK=$(a).val()}}function DropDown(a){this.cbmBetType=a,this.initEvents()}function computePoints(a){"1"==a.isMainBet&&"C"!=a.betType&&"M"!=a.betType&&"0"==a.PeriodNumber&&("basketball"!=a.SportType.toLowerCase()&&"football"!=a.SportType.toLowerCase()||(void 0!==_BUY_SELL_POINTS.sell&&void 0!==_BUY_SELL_POINTS.sell.BasketballSpreadSell&&("football"==a.SportType.toLowerCase()&&"college"==a.SubSportType.toLowerCase()?("L"==a.betType&&computeMoreOddsSelection(a,"O"==a.TotalPointsOU?.5:-.5,-parseInt(_BUY_SELL_POINTS.sell.CollegeFootballTotalSell),parseInt(_BUY_SELL_POINTS.sell.CollegeFootballTotalSellMax),-parseInt(_BUY_SELL_POINTS.sell.CollegeFootballTotalSell),-parseInt(_BUY_SELL_POINTS.sell.CollegeFootballTotalSell),-parseInt(_BUY_SELL_POINTS.sell.CollegeFootballTotalSell),-parseInt(_BUY_SELL_POINTS.sell.CollegeFootballTotalSell)),"S"==a.betType&&computeMoreOddsSelection(a,-.5,-parseInt(_BUY_SELL_POINTS.sell.CollegeFootballSpreadSell),parseInt(_BUY_SELL_POINTS.sell.CollegeFootballSpreadSellMax),-parseInt(_BUY_SELL_POINTS.sell.CollegeFootballSpreadSellOn3),-parseInt(_BUY_SELL_POINTS.sell.CollegeFootballSpreadSellOn7),-parseInt(_BUY_SELL_POINTS.sell.CollegeFootballSpreadSellOff3),-parseInt(_BUY_SELL_POINTS.sell.CollegeFootballSpreadSellOff7))):"football"==a.SportType.toLowerCase()?("L"==a.betType&&computeMoreOddsSelection(a,"O"==a.TotalPointsOU?.5:-.5,-parseInt(_BUY_SELL_POINTS.sell.FootballTotalSell),parseInt(_BUY_SELL_POINTS.sell.FootballTotalSellMax),-parseInt(_BUY_SELL_POINTS.sell.FootballTotalSell),-parseInt(_BUY_SELL_POINTS.sell.FootballTotalSell),-parseInt(_BUY_SELL_POINTS.sell.FootballTotalSell),-parseInt(_BUY_SELL_POINTS.sell.FootballTotalSell)),"S"==a.betType&&computeMoreOddsSelection(a,-.5,-parseInt(_BUY_SELL_POINTS.sell.FootballSpreadSell),parseInt(_BUY_SELL_POINTS.sell.FootballSpreadSellMax),-parseInt(_BUY_SELL_POINTS.sell.FootballSpreadSellOn3),-parseInt(_BUY_SELL_POINTS.sell.FootballSpreadSellOn7),-parseInt(_BUY_SELL_POINTS.sell.FootballSpreadSellOff3),-parseInt(_BUY_SELL_POINTS.sell.FootballSpreadSellOff7))):"basketball"==a.SportType.toLowerCase()&&("L"==a.betType&&computeMoreOddsSelection(a,"O"==a.TotalPointsOU?.5:-.5,-parseInt(_BUY_SELL_POINTS.sell.BasketballTotalSell),parseInt(_BUY_SELL_POINTS.sell.BasketballTotalSellMax),-parseInt(_BUY_SELL_POINTS.sell.BasketballTotalSell),-parseInt(_BUY_SELL_POINTS.sell.BasketballTotalSell),-parseInt(_BUY_SELL_POINTS.sell.BasketballTotalSell),-parseInt(_BUY_SELL_POINTS.sell.BasketballTotalSell)),"S"==a.betType&&computeMoreOddsSelection(a,-.5,-parseInt(_BUY_SELL_POINTS.sell.BasketballSpreadSell),parseInt(_BUY_SELL_POINTS.sell.BasketballSpreadSellMax),-parseInt(_BUY_SELL_POINTS.sell.BasketballSpreadSell),-parseInt(_BUY_SELL_POINTS.sell.BasketballSpreadSell),-parseInt(_BUY_SELL_POINTS.sell.BasketballSpreadSell),-parseInt(_BUY_SELL_POINTS.sell.BasketballSpreadSell)))),void 0!==_BUY_SELL_POINTS.buy&&void 0!==_BUY_SELL_POINTS.buy.BasketballSpreadBuy&&("football"==a.SportType.toLowerCase()&&"college"==a.SubSportType.toLowerCase()?("L"==a.betType&&computeMoreOddsSelection(a,"O"==a.TotalPointsOU?-.5:.5,parseInt(_BUY_SELL_POINTS.buy.CollegeFootballTotalBuy),parseInt(_BUY_SELL_POINTS.buy.CollegeFootballTotalBuyMax),parseInt(_BUY_SELL_POINTS.buy.CollegeFootballTotalBuy),parseInt(_BUY_SELL_POINTS.buy.CollegeFootballTotalBuy),parseInt(_BUY_SELL_POINTS.buy.CollegeFootballTotalBuy),parseInt(_BUY_SELL_POINTS.buy.CollegeFootballTotalBuy)),"S"==a.betType&&computeMoreOddsSelection(a,.5,parseInt(_BUY_SELL_POINTS.buy.CollegeFootballSpreadBuy),parseInt(_BUY_SELL_POINTS.buy.CollegeFootballSpreadBuyMax),parseInt(_BUY_SELL_POINTS.buy.CollegeFootballSpreadBuyOn3),parseInt(_BUY_SELL_POINTS.buy.CollegeFootballSpreadBuyOn7),parseInt(_BUY_SELL_POINTS.buy.CollegeFootballSpreadBuyOff3),parseInt(_BUY_SELL_POINTS.buy.CollegeFootballSpreadBuyOff7))):"football"==a.SportType.toLowerCase()?("L"==a.betType&&computeMoreOddsSelection(a,"O"==a.TotalPointsOU?-.5:.5,parseInt(_BUY_SELL_POINTS.buy.FootballTotalBuy),parseInt(_BUY_SELL_POINTS.buy.FootballTotalBuyMax),parseInt(_BUY_SELL_POINTS.buy.FootballTotalBuy),parseInt(_BUY_SELL_POINTS.buy.FootballTotalBuy),parseInt(_BUY_SELL_POINTS.buy.FootballTotalBuy),parseInt(_BUY_SELL_POINTS.buy.FootballTotalBuy)),"S"==a.betType&&computeMoreOddsSelection(a,.5,parseInt(_BUY_SELL_POINTS.buy.FootballSpreadBuy),parseInt(_BUY_SELL_POINTS.buy.FootballSpreadBuyMax),parseInt(_BUY_SELL_POINTS.buy.FootballSpreadBuyOn3),parseInt(_BUY_SELL_POINTS.buy.FootballSpreadBuyOn7),parseInt(_BUY_SELL_POINTS.buy.FootballSpreadBuyOff3),parseInt(_BUY_SELL_POINTS.buy.FootballSpreadBuyOff7))):"basketball"==a.SportType.toLowerCase()&&("L"==a.betType&&computeMoreOddsSelection(a,"O"==a.TotalPointsOU?-.5:.5,parseInt(_BUY_SELL_POINTS.buy.BasketballTotalBuy),parseInt(_BUY_SELL_POINTS.buy.BasketballTotalBuyMax),parseInt(_BUY_SELL_POINTS.buy.BasketballTotalBuy),parseInt(_BUY_SELL_POINTS.buy.BasketballTotalBuy),parseInt(_BUY_SELL_POINTS.buy.BasketballTotalBuy),parseInt(_BUY_SELL_POINTS.buy.BasketballTotalBuy)),"S"==a.betType&&computeMoreOddsSelection(a,.5,parseInt(_BUY_SELL_POINTS.buy.BasketballSpreadBuy),parseInt(_BUY_SELL_POINTS.buy.BasketballSpreadBuyMax),parseInt(_BUY_SELL_POINTS.buy.BasketballSpreadBuy),parseInt(_BUY_SELL_POINTS.buy.BasketballSpreadBuy),parseInt(_BUY_SELL_POINTS.buy.BasketballSpreadBuy),parseInt(_BUY_SELL_POINTS.buy.BasketballSpreadBuy))))))}function computeMoreOddsSelection(a,b,c,d,e,f,g,h){if(0!=d&&0!=b&&0!=c){for(var i=parseFloat(a.threshold),j=parseInt(a.US),k=0,l=0,m=!1;l<=d&&(m=!1,3==Math.abs(i)&&(m=!0,k=g),7==Math.abs(i)&&(m=!0,k=h),i+=b,3==Math.abs(i)&&(m=!0,k=e),7==Math.abs(i)&&(m=!0,k=f),m||(k=c),0!=k);)j=riskIncrement(j,k),void 0===a.moreOdds[i]&&(a.moreOdds[i]={}),a.moreOdds[i].US=j,a.moreOdds[i].threshold=i,a.moreOdds[i].Dec=convertOddsToDecimal(j),l++;l>0&&(void 0===a.moreOdds[i]&&(a.moreOdds[i]={}),a.moreOdds[i].US=a.US,a.moreOdds[i].threshold=a.threshold,a.moreOdds[i].Dec=a.Dec)}}function riskIncrement(a,b){return a>0?computeOdds(100+b,a):computeOdds(-a+b,100)}function computeOdds(a,b){var c=a<b?b+100-a:-(a+100-b);return-100==c&&(c=100),c}function acceptChanges(){for(var a in _SELECTIONS_ON_BETSLIP)acceptChangesSelection(a)}function acceptChangesSelection(a){var b=getFinalOddsSelection(_SELECTIONS_ON_BETSLIP[a]);_SELECTIONS_ON_BETSLIP[a].US=b.US,_SELECTIONS_ON_BETSLIP[a].Dec=b.Dec,_SELECTIONS_ON_BETSLIP[a].Num=b.Num,_SELECTIONS_ON_BETSLIP[a].Den=b.Den,_SELECTIONS_ON_BETSLIP[a].threshold=b.threshold}function computePitchers(a){if("Baseball"==a.SportType&&(void 0!==a.listedpitcherhome&&void 0!==a.listedpitcheraway&&""!==a.listedpitcherhome&&""!==a.listedpitcheraway?"0"==a.PeriodNumber?"M"==a.betType?(a.pitcherOptions.at="at",a.pitcherOptions.lv="lv",a.pitcherOptions.lh="lh",a.pitcherOptions.lp="lp"):a.pitcherOptions.lp="lp":"0"==a.PeriodNumber||"1"==a.PeriodNumber?a.pitcherOptions.lp="lp":a.pitcherOptions.at="at":a.pitcherOptions.at="at",void 0!==a.pitcherOptions)){var b=siteCache.customer,c="";"Listed"==b.BaseballAction.trim()&&(c="lp"),"Action"==b.BaseballAction.trim()&&(c="at");var d=null;for(var e in a.pitcherOptions){var f=a.pitcherOptions[e];if(null==d&&(d=f),c==f){d=f;break}}a.pitcher=d}}function changeGlobalFreePlay(){$("#globalFreePlay").is(":checked")?$("#betslip .fpSelectorWrap input[name='selectionFreePlay']").attr("checked",!0):$("#betslip .fpSelectorWrap input[name='selectionFreePlay']").attr("checked",!1)}function countObject(a){var b=0;for(var c in a)b++;return b}function placebet(){_BETSLIP_IS_ENABLED&&(_TRIGGERED_BY="placeBet",getDelay(function(a){if(animateProgressBarBetslip(a),!_ERROR){updateBetSlip();var b=!1;$("#betslip .message").each(function(){"display: block;"==$(this).attr("style")&&(b=!0)}),b?$("#betslip .globalMessages").show():$("#betslip .globalMessages").hide();var c=!1;if($(".globalMessages .message").each(function(){"display: block;"==$(this).attr("style")&&(c=!0)}),!c&&!b){$("#placeBet").button("loading");var d={};for(var e in _SELECTIONS_ON_BETSLIP)void 0===d[e]&&(d[e]={}),d[e].Dec=_SELECTIONS_ON_BETSLIP[e].Dec,d[e].Den=_SELECTIONS_ON_BETSLIP[e].Den,d[e].Num=_SELECTIONS_ON_BETSLIP[e].Num,d[e].US=_SELECTIONS_ON_BETSLIP[e].US,d[e].riskAmount=_SELECTIONS_ON_BETSLIP[e].riskAmount,d[e].selectedAmount=_SELECTIONS_ON_BETSLIP[e].selectedAmount,d[e].selectedAmountType=_SELECTIONS_ON_BETSLIP[e].selectedAmountType,d[e].selectionId=_SELECTIONS_ON_BETSLIP[e].selectionId,d[e].threshold=_SELECTIONS_ON_BETSLIP[e].threshold,d[e].thresholdTeaser=_SELECTIONS_ON_BETSLIP[e].thresholdTeaser,d[e].winAmount=_SELECTIONS_ON_BETSLIP[e].winAmount,d[e].fp=_SELECTIONS_ON_BETSLIP[e].fp,d[e].pitcher=_SELECTIONS_ON_BETSLIP[e].pitcher,d[e].isOpenSelection=_SELECTIONS_ON_BETSLIP[e].isOpenSelection,d[e].order=_SELECTIONS_ON_BETSLIP[e].order,d[e].GameNum=_SELECTIONS_ON_BETSLIP[e].GameNum,d[e].isMainBet=_SELECTIONS_ON_BETSLIP[e].isMainBet,d[e].isFuture=_SELECTIONS_ON_BETSLIP[e].isFuture,d[e].PeriodNumber=_SELECTIONS_ON_BETSLIP[e].PeriodNumber,d[e].betType=_SELECTIONS_ON_BETSLIP[e].betType,d[e].ChosenTeamID=_SELECTIONS_ON_BETSLIP[e].ChosenTeamID,d[e].TotalPointsOU=_SELECTIONS_ON_BETSLIP[e].TotalPointsOU,d[e].ContestNum=_SELECTIONS_ON_BETSLIP[e].ContestNum,d[e].ContestantNum=_SELECTIONS_ON_BETSLIP[e].ContestantNum;$.ajax({url:"/Sportbook/placebet",dataType:"json",cache:!1,method:"POST",data:{selectionsOnBetslip:JSON.stringify(d),betslitpType:_BETSLIP_TYPE,globalRiskAmount:_GLOBAL_RISK_AMOUNT,globalToWinAmount:_GLOBAL_WIN_AMOUNT,teaserType:_TEASER_TYPE,teaserAmount:_TEASER_AMOUNT,reverseAmount:_REVERSE_AMOUNT,isFreePlay:"1"==_FREE_PLAY_CHECKED?"Y":"N",roundRobinType:_ROUND_ROBIN_TYPE,ContinueOnPushFlag:_CONTINUE_ON_PUSH_FLAG,LineTypeFormat:siteCache.customer.PriceType,fullcustomerAgent:$("#sp_CustomerID").val()}}).done(function(a){$("input[name='win']").val(""),$("input[name='risk']").val(""),$("#betslip #riskAmount").val(""),$("#betslip .maxToWin").html(""),$("#betslip .maxRisk").html(""),$("#placeBet").prop("disabled",!1),$("#betslip .serverMessages .messages .message").hide().remove();var b=[],c=[];$.each(a,function(a,d){if("1"===d.status)_SELECTIONS_ON_BETSLIP={},_GLOBAL_RISK_AMOUNT="",_TEASER_TYPE="",_TEASER_AMOUNT="",_REVERSE_AMOUNT="",_FREE_PLAY_CHECKED="0",_CONTINUE_ON_PUSH_FLAG="N",_AMOUNT_SELECTIONS_ON_BETSLIP=0,_AMOUNT_SELECTIONS_ON_BETSLIP_NO_OPEN=0,_LIMITS={},b.push(d.ticket),c.push(d.ticket.ticketNumber),$("#txtBet").val("");else if("0"===d.status)$("#TransactionMessage").text("Seleccion Fallo("+d.ChosenTeamID+")"),$("#betslip .transactionFailed").show(),setTimeout(function(){$("#betslip .transactionFailed").hide()},5e3);else{var e=!1;for(var f in d.messages){e=!0;var g=d.messages[f];$("#betslip .serverMessages .messages").append("<div class='margin-top message serverMessage'><span class='glyphicon glyphicon-ban-circle' aria-hidden='true'></span> "+g+"</div>")}e?($("#betslip .serverMessages").show(),setTimeout(function(){$("#betslip .serverMessages").hide()},5e3)):$("#betslip .serverMessages").hide()}});var d=[];if($.each(b,function(a,b){var c=[],e=0;$.each(b.items,function(a,b){c[e]={gameDate:b.gameDate,line:b.line,chosenTeam:b.chosenTeam,sportDescription:b.sportDescription,risk:b.risk,win:b.win},e++}),d.push({ticketNumber:b.ticketNumber,globalWin:b.globalWin,globalRisk:b.globalRisk,title:b.title,items:c})}),console.log(d),b.length>0){var e;e=$("#sp_CustomerID").val().toUpperCase()===$("#sp_AuthCustomerID").val().toUpperCase()?1:2,printTicket(d,e),updateBetSlip()}}).error(function(){}).always(function(){setTimeout(function(){$("#placeBet").button("reset")},500)})}}}))}function filterSelections(){var a={};for(var b in _SELECTIONS_ON_BETSLIP)void 0===a[b]&&(a[b]={}),a[b].Dec=_SELECTIONS_ON_BETSLIP[b].Dec,a[b].Den=_SELECTIONS_ON_BETSLIP[b].Den,a[b].Num=_SELECTIONS_ON_BETSLIP[b].Num,a[b].US=_SELECTIONS_ON_BETSLIP[b].US,a[b].riskAmount=_SELECTIONS_ON_BETSLIP[b].riskAmount,a[b].selectedAmount=_SELECTIONS_ON_BETSLIP[b].selectedAmount,a[b].selectedAmountType=_SELECTIONS_ON_BETSLIP[b].selectedAmountType,a[b].selectionId=_SELECTIONS_ON_BETSLIP[b].selectionId,a[b].threshold=_SELECTIONS_ON_BETSLIP[b].threshold,a[b].thresholdTeaser=_SELECTIONS_ON_BETSLIP[b].thresholdTeaser,a[b].winAmount=_SELECTIONS_ON_BETSLIP[b].winAmount,a[b].fp=_SELECTIONS_ON_BETSLIP[b].fp,a[b].pitcher=_SELECTIONS_ON_BETSLIP[b].pitcher,a[b].isOpenSelection=_SELECTIONS_ON_BETSLIP[b].isOpenSelection,a[b].order=_SELECTIONS_ON_BETSLIP[b].order,a[b].GameNum=_SELECTIONS_ON_BETSLIP[b].GameNum,a[b].isMainBet=_SELECTIONS_ON_BETSLIP[b].isMainBet,a[b].isFuture=_SELECTIONS_ON_BETSLIP[b].isFuture,a[b].PeriodNumber=_SELECTIONS_ON_BETSLIP[b].PeriodNumber,a[b].betType=_SELECTIONS_ON_BETSLIP[b].betType,a[b].ChosenTeamID=_SELECTIONS_ON_BETSLIP[b].ChosenTeamID,a[b].TotalPointsOU=_SELECTIONS_ON_BETSLIP[b].TotalPointsOU,a[b].ContestNum=_SELECTIONS_ON_BETSLIP[b].ContestNum,a[b].ContestantNum=_SELECTIONS_ON_BETSLIP[b].ContestantNum,a[b].scheduleText=_SELECTIONS_ON_BETSLIP[b].scheduletext,a[b].sportType=_SELECTIONS_ON_BETSLIP[b].SportType,a[b].subSportType=_SELECTIONS_ON_BETSLIP[b].SubSportType;return a}function getDelay(a){$.ajax({url:"/Sportbook/getdelay",dataType:"json",cache:!1}).done(function(b){a(b.delay)}).error(function(){}).always(function(){})}function animateProgressBarBetslipAux(a,b){var c=(new Date).getTime();if(c<b){var d=Math.round(100*(c-a)/(b-a));$("#betslip #placeBetWrap #placebetBar .progress-bar").width(d+"%"),$("#betslip #placeBetWrapFull #placebetBarFull .progress-bar").width(d+"%"),setTimeout(function(){animateProgressBarBetslipAux(a,b)},100)}else $("#betslip #placeBetWrap #placebetBar .progress-bar").width("100%"),$("#betslip #placeBetWrapFull #placebetBarFull .progress-bar").width("100%")}function animateProgressBarBetslip(a){var b=(new Date).getTime();animateProgressBarBetslipAux(b,b+1e3*a)}function ApplyHalfPointAdjustment(a,b,c,d,e,f,g,h){var i=100,j="Y",k=0,l="Y",m=0;g=parseFloat(g);var n=0,o=new Date,p=o.getDay();if(p<1&&(p=7),n=b>c?c:b,"Y"==j&&"Basketball"==d&&n<=i&&0==e&&(0==k||k==p)){if("S"==f)return 1==CheckForPrevBetOnGame(a,f)?g:g+=.5;if("L"==f)return"1"==h?1==CheckForPrevBetOnGame(a,f)?g:g-=.5:1==CheckForPrevBetOnGame(a,f)?g:g+=.5}if("Y"==l&&"Football"==d&&n<=i&&0==e&&(0==m||m==p)){if("S"==f&&-3.5!=g&&-3!=g&&2.5!=g&&3!=g)return 1==CheckForPrevBetOnGame(a,f)?g:g+=.5;if("L"==f)return"1"==h.substr(1,1)?1==CheckForPrevBetOnGame(a,f)?g:g-=.5:1==CheckForPrevBetOnGame(a,f)?g:g+=.5}return g}function CheckForPrevBetOnGame(a,b){var c=!1;return $.ajax({url:"/Sportbook/CheckForPrevBetOnGame",dataType:"json",cache:!1,asyn:!1,data:{gameNum:a,wagerType:b}}).done(function(a){0<parseFloat(a.BetCount)+0&&(c=!0)}).error(function(){}).always(function(){}),c}function showTicketModal(a){getInfoCustomer(),"xs"==getCurrentSize()&&(_BETSLIP_TYPE="straight"),$("#betslipModal .modal-title").html("Ticket Number: "+a.ticketNumber);var b="";for(var c in a.items)a.items[c].index=parseInt(c)+1,b+=getSelectionHTML(a.items[c],a.type);var d="";void 0!==a.eachParlayAmount&&(d='<span class="selectionDesc"> Amount Per Parlay: '+a.eachParlayAmount+"</span><br>");var e='<center class="winRiskCenter border-bottom"><b>'+d+'<span class="selectionDesc"> Total Risk '+a.globalRisk+"  To   Win  "+a.globalWin+"</span></b></center>";e=""==a.globalRisk||""==a.globalWin?"":e;var f='<div class="ticket border-left border-right"><div class="wager border-bottom"><div class="betType"><center>'+a.title+'</center></div></div><div class="selections-container">'+b+"</div>"+e+"</div>";$("#betslipModal .modal-body").html(f),$("#betslipModal").modal()}function getSelectionHTML(a,b){if("0"==a.isOpenSelection){a.baseballPitchers=""!=a.baseballPitchers?a.baseballPitchers+"<br>":"";var c="parlay"===b?"":"Risk "+a.risk+" to Win "+a.win+"<br>";c="roundrobin"===b?"":c,c="teaser"===b?"":c,c="reverse"===b?"":c;var d="1"==a.freePlay?"*** FREE PLAY ***<br>":"";a.sportDescription=""==a.sportDescription.trim()||"-"==a.sportDescription.trim()?"":a.sportDescription+"<br>",a.chosenTeam=""!==a.chosenTeam.trim()?a.chosenTeam+"<br>":"";var e=""==a.points?"":a.points+"<br>",f=""==a.matchUp?"":a.matchUp+"<br>",g=a.gameDate.indexOf("12/31/1969")>-1?"":"Game Date: "+a.gameDate+" (EST)<br>";return'<div class="item border-bottom center"><div class="gameDesc"><b>Selection #'+a.index+'</b></div><div class="betDesc">'+a.sportDescription+f+a.chosenTeam+a.line+"<br>"+e+a.baseballPitchers+c+g+d+"</div></div>"}return'<div class="item border-bottom center"><div class="gameDesc"><b>Selection #'+a.index+'</b></div><div class="betDesc">Open Selection</div></div>'}function printTicket(a,b){var c=JSON.stringify(a),c=c.replace(/\+/g,"%2B"),d=screen.width/2-225,e=screen.height/2-350;window.open("/Printview/index?params="+encodeURI(c)+"&type="+b,"","width=450,height=700, top="+e+", left="+d)}function markBlockedSelections(){if($(".addToBetslip").removeClass("blocked"),"parlay"===_BETSLIP_TYPE||"teaser"===_BETSLIP_TYPE||"ifbet"===_BETSLIP_TYPE||"rndrobin"===_BETSLIP_TYPE){var a=new Object;for(var b in _SELECTIONS_ON_BETSLIP){"1"!=_SELECTIONS_ON_BETSLIP[b].isOpenSelection&&(a[b]=_SELECTIONS_ON_BETSLIP[b])}for(var d=$(".addToBetslip"),e=0;e<d.length;e++){var f=d.eq(e),b=f.attr("selectionid");if(void 0!==b&&void 0===a[b]){a[b]=createNewSelectionFromHTML(f,b);var g=getSelectionsError(a),h=!1;for(var i in g)if(g[i].length>0){h=!0;break}h?f.addClass("blocked"):f.removeClass("blocked"),delete a[b]}else f.removeClass("blocked")}}}function createNewSelectionFromHTML(a,b){var c=getNextOrderSelectionOnBetSlip(),d=a.attr("chosenteamid"),e=a.attr("totalpointsou"),f=a.attr("threshold");f=""==f?a.find(".threshold").text():f;var g=a.attr("us"),h=a.attr("dec"),i=a.attr("gamenum"),j=a.attr("mainbet"),k=a.attr("future"),l=a.attr("periodnumber"),m=a.attr("bettypeis"),n=a.attr("contestnum"),o=a.attr("contestannum"),p=a.attr("sporttype"),q=a.attr("sportsubtype"),r=a.attr("parlayrestriction"),s=a.attr("groupdescription"),t=a.attr("betdescription"),u=a.attr("listedpitcher1"),v=a.attr("listedpitcher2"),w=a.attr("isparlay"),x=a.attr("isstraight"),y=a.attr("isteaser");return makeSelectionForBetslip(c,b,f,g,"0","0",h,"0",0,i,j,k,l,m,d,e,n,o,p,q,r,0,s,t,u,v,$("tr[gamenum='"+i+"'].away").find(".teamName").eq(0).text(),$("tr[gamenum='"+i+"'].home").find(".teamName").eq(0).text(),w,x,y)}function getGameDenyErrorsHookup(a){var b=new Array;for(var c in a){var d=a[c];null!=d&&("D"==d.ParlayRestriction&&b.push([d.selectionId]))}return b}function getSameGameDenyErrorsHookup(a){var b=new Array,c=new Object;for(var d in a){var e=a[d];if(null!=e){var f=e.GameNum;"S"==e.ParlayRestriction&&(c[f],c[f]=new Array,c[f].push(e.selectionId))}}for(var f in c){var g=c[f];g.length>1&&b.push(g)}return b}function illegalHookupSelectionError(a){var b=new Array;for(var c in a){var d=a[c];if(null!=d){if("E"==d.betType&&b.push([d.selectionId]),"Hockey"==d.SportType&&"0"!=d.PeriodNumber&&b.push([d.selectionId]),parseInt(d.PeriodNumber)>=3&&b.push([d.selectionId]),"S"==d.betType||"L"==d.betType){var e=parseFloat(d.threshold);.25!=Math.abs(myRound(e%1,2))&&.75!=Math.abs(myRound(e%1,2))||b.push([d.selectionId])}d.isMainBet||b.push([d.selectionId]),"parlay"===_BETSLIP_TYPE&&"0"==d.isParlay&&b.push([d.selectionId])}}return b}function illegalHookupCombinationError(a){var b=new Object;b.Basketball_S_0_L_0=!0,b.Basketball_S_0_L_1=!0,b.Basketball_S_0_L_2=!0,b.Basketball_M_0_L_0=!0,b.Basketball_M_0_L_1=!0,b.Basketball_M_0_L_2=!0,b.Basketball_L_0_S_1=!0,b.Basketball_L_0_M_1=!0,b.Basketball_L_0_S_2=!0,b.Basketball_L_0_M_2=!0,b.Basketball_S_1_L_1=!0,b.Basketball_S_1_L_2=!0,b.Basketball_M_1_L_1=!0,b.Basketball_M_1_L_2=!0,b.Basketball_L_1_S_2=!0,b.Basketball_L_1_M_2=!0,b.Basketball_S_2_L_2=!0,b.Basketball_M_2_L_2=!0,b.Football_S_0_L_0=!0,b.Football_S_0_L_1=!0,b.Football_S_0_L_2=!0,b.Football_M_0_L_0=!0,b.Football_M_0_L_1=!0,b.Football_M_0_L_2=!0,b.Football_L_0_S_1=!0,b.Football_L_0_M_1=!0,b.Football_L_0_S_2=!0,b.Football_L_0_M_2=!0,b.Football_S_1_L_1=!0,b.Football_S_1_L_2=!0,b.Football_M_1_L_1=!0,b.Football_M_1_L_2=!0,b.Football_L_1_S_2=!0,b.Football_L_1_M_2=!0,b.Football_S_2_L_2=!0,b.Football_M_2_L_2=!0,b.Hockey_L_1_M_1=!0,b.Baseball_M_0_L_0=!0,b.Baseball_M_0_L_1=!0,b.Baseball_M_0_L_2=!0,b.Baseball_L_0_M_1=!0,b.Baseball_L_0_M_2=!0,b.Baseball_M_1_L_1=!0,b.Baseball_M_1_L_2=!0,b.Baseball_L_1_M_2=!0,b.Baseball_M_2_L_2=!0;var c=new Object;c.Basketball_S_0_S_0=!0,c.Basketball_S_0_M_0=!0,c.Basketball_S_0_L_0=!0,c.Basketball_S_0_S_1=!0,c.Basketball_S_0_M_1=!0,c.Basketball_S_0_L_1=!0,c.Basketball_S_0_S_2=!0,c.Basketball_S_0_M_2=!0,c.Basketball_S_0_L_2=!0,c.Basketball_M_0_M_0=!0,c.Basketball_M_0_L_0=!0,c.Basketball_M_0_S_1=!0,c.Basketball_M_0_M_1=!0,c.Basketball_M_0_L_1=!0,c.Basketball_M_0_S_2=!0,c.Basketball_M_0_M_2=!0,c.Basketball_M_0_L_2=!0,c.Basketball_L_0_L_0=!0,c.Basketball_L_0_S_1=!0,c.Basketball_L_0_M_1=!0,c.Basketball_L_0_L_1=!0,c.Basketball_L_0_S_2=!0,c.Basketball_L_0_M_2=!0,c.Basketball_L_0_L_2=!0,c.Basketball_S_1_S_1=!0,c.Basketball_S_1_M_1=!0,c.Basketball_S_1_L_1=!0,c.Basketball_S_1_S_2=!0,c.Basketball_S_1_M_2=!0,c.Basketball_S_1_L_2=!0,c.Basketball_M_1_M_1=!0,c.Basketball_M_1_L_1=!0,c.Basketball_M_1_S_2=!0,c.Basketball_M_1_M_2=!0,c.Basketball_M_1_L_2=!0,c.Basketball_L_1_L_1=!0,c.Basketball_L_1_S_2=!0,c.Basketball_L_1_M_2=!0,c.Basketball_L_1_L_2=!0,c.Basketball_S_2_S_2=!0,c.Basketball_S_2_M_2=!0,c.Basketball_S_2_L_2=!0,c.Basketball_M_2_M_2=!0,c.Basketball_M_2_L_2=!0,c.Basketball_L_2_L_2=!0,c.Football_S_0_S_0=!0,c.Football_S_0_M_0=!0,c.Football_S_0_L_0=!0,c.Football_S_0_S_1=!0,c.Football_S_0_M_1=!0,c.Football_S_0_L_1=!0,c.Football_S_0_S_2=!0,c.Football_S_0_M_2=!0,c.Football_S_0_L_2=!0,c.Football_M_0_M_0=!0,c.Football_M_0_L_0=!0,c.Football_M_0_S_1=!0,c.Football_M_0_M_1=!0,c.Football_M_0_L_1=!0,c.Football_M_0_S_2=!0,c.Football_M_0_M_2=!0,c.Football_M_0_L_2=!0,c.Football_L_0_L_0=!0,c.Football_L_0_S_1=!0,c.Football_L_0_M_1=!0,c.Football_L_0_L_1=!0,c.Football_L_0_S_2=!0,c.Football_L_0_M_2=!0,c.Football_L_0_L_2=!0,c.Football_S_1_S_1=!0,c.Football_S_1_M_1=!0,c.Football_S_1_L_1=!0,c.Football_S_1_S_2=!0,c.Football_S_1_M_2=!0,c.Football_S_1_L_2=!0,c.Football_M_1_M_1=!0,c.Football_M_1_L_1=!0,c.Football_M_1_S_2=!0,c.Football_M_1_M_2=!0,c.Football_M_1_L_2=!0,c.Football_L_1_L_1=!0,c.Football_L_1_S_2=!0,c.Football_L_1_M_2=!0,c.Football_L_1_L_2=!0,c.Football_S_2_S_2=!0,c.Football_S_2_M_2=!0,c.Football_S_2_L_2=!0,c.Football_M_2_M_2=!0,c.Football_M_2_L_2=!0,c.Football_L_2_L_2=!0,c.Hockey_S_0_S_0=!0,c.Hockey_S_0_M_0=!0,c.Hockey_S_0_L_0=!0,c.Hockey_M_0_M_0=!0,c.Hockey_M_0_L_0=!0,c.Hockey_L_0_L_0=!0,c.Baseball_S_0_S_0=!0,c.Baseball_S_0_M_0=!0,c.Baseball_S_0_L_0=!0,c.Baseball_S_0_S_1=!0,c.Baseball_S_0_M_1=!0,c.Baseball_S_0_L_1=!0,c.Baseball_S_0_S_2=!0,c.Baseball_S_0_M_2=!0,c.Baseball_S_0_L_2=!0,c.Baseball_M_0_M_0=!0,c.Baseball_M_0_L_0=!0,c.Baseball_M_0_S_1=!0,c.Baseball_M_0_M_1=!0,c.Baseball_M_0_L_1=!0,c.Baseball_M_0_S_2=!0,c.Baseball_M_0_M_2=!0,c.Baseball_M_0_L_2=!0,c.Baseball_L_0_L_0=!0,c.Baseball_L_0_S_1=!0,c.Baseball_L_0_M_1=!0,c.Baseball_L_0_L_1=!0,c.Baseball_L_0_S_2=!0,c.Baseball_L_0_M_2=!0,c.Baseball_L_0_L_2=!0,c.Baseball_S_1_S_1=!0,c.Baseball_S_1_M_1=!0,c.Baseball_S_1_L_1=!0,c.Baseball_S_1_S_2=!0,c.Baseball_S_1_M_2=!0,c.Baseball_S_1_L_2=!0,c.Baseball_M_1_M_1=!0,c.Baseball_M_1_L_1=!0,c.Baseball_M_1_S_2=!0,c.Baseball_M_1_M_2=!0,c.Baseball_M_1_L_2=!0,c.Baseball_L_1_L_1=!0,c.Baseball_L_1_S_2=!0,c.Baseball_L_1_M_2=!0,c.Baseball_L_1_L_2=!0,c.Baseball_S_2_S_2=!0,c.Baseball_S_2_M_2=!0,c.Baseball_S_2_L_2=!0,c.Baseball_M_2_M_2=!0,c.Baseball_M_2_L_2=!0,c.Baseball_L_2_L_2=!0,c.Soccer_S_0_S_0=!0,c.Soccer_S_0_M_0=!0,c.Soccer_S_0_L_0=!0,c.Soccer_S_0_S_1=!0,c.Soccer_S_0_M_1=!0,c.Soccer_S_0_L_1=!0,c.Soccer_S_0_S_2=!0,c.Soccer_S_0_M_2=!0,c.Soccer_S_0_L_2=!0,c.Soccer_M_0_M_0=!0,c.Soccer_M_0_L_0=!0,c.Soccer_M_0_S_1=!0,c.Soccer_M_0_M_1=!0,c.Soccer_M_0_L_1=!0,c.Soccer_M_0_S_2=!0,c.Soccer_M_0_M_2=!0,c.Soccer_M_0_L_2=!0,c.Soccer_L_0_L_0=!0,c.Soccer_L_0_S_1=!0,c.Soccer_L_0_M_1=!0,c.Soccer_L_0_L_1=!0,c.Soccer_L_0_S_2=!0,c.Soccer_L_0_M_2=!0,c.Soccer_L_0_L_2=!0,c.Soccer_S_1_S_1=!0,c.Soccer_S_1_M_1=!0,c.Soccer_S_1_L_1=!0,c.Soccer_S_1_S_2=!0,c.Soccer_S_1_M_2=!0,c.Soccer_S_1_L_2=!0,c.Soccer_M_1_M_1=!0,c.Soccer_M_1_L_1=!0,c.Soccer_M_1_S_2=!0,c.Soccer_M_1_M_2=!0,c.Soccer_M_1_L_2=!0,c.Soccer_L_1_L_1=!0,c.Soccer_L_1_S_2=!0,c.Soccer_L_1_M_2=!0,c.Soccer_L_1_L_2=!0,c.Soccer_S_2_S_2=!0,c.Soccer_S_2_M_2=!0,c.Soccer_S_2_L_2=!0,c.Soccer_M_2_M_2=!0,c.Soccer_M_2_L_2=!0,c.Soccer_L_2_L_2=!0,c.Tennis_S_0_S_0=!0,c.Tennis_S_0_M_0=!0,c.Tennis_S_0_L_0=!0,c.Tennis_S_0_S_1=!0,c.Tennis_S_0_M_1=!0,c.Tennis_S_0_L_1=!0,c.Tennis_S_0_S_2=!0,c.Tennis_S_0_M_2=!0,c.Tennis_S_0_L_2=!0,c.Tennis_M_0_M_0=!0,c.Tennis_M_0_L_0=!0,c.Tennis_M_0_S_1=!0,c.Tennis_M_0_M_1=!0,c.Tennis_M_0_L_1=!0;c.Tennis_M_0_S_2=!0,c.Tennis_M_0_M_2=!0,c.Tennis_M_0_L_2=!0,c.Tennis_L_0_L_0=!0,c.Tennis_L_0_S_1=!0,c.Tennis_L_0_M_1=!0,c.Tennis_L_0_L_1=!0,c.Tennis_L_0_S_2=!0,c.Tennis_L_0_M_2=!0,c.Tennis_L_0_L_2=!0,c.Tennis_S_1_S_1=!0,c.Tennis_S_1_M_1=!0,c.Tennis_S_1_L_1=!0,c.Tennis_S_1_S_2=!0,c.Tennis_S_1_M_2=!0,c.Tennis_S_1_L_2=!0,c.Tennis_M_1_M_1=!0,c.Tennis_M_1_L_1=!0,c.Tennis_M_1_S_2=!0,c.Tennis_M_1_M_2=!0,c.Tennis_M_1_L_2=!0,c.Tennis_L_1_L_1=!0,c.Tennis_L_1_S_2=!0,c.Tennis_L_1_M_2=!0,c.Tennis_L_1_L_2=!0,c.Tennis_S_2_S_2=!0,c.Tennis_S_2_M_2=!0,c.Tennis_S_2_L_2=!0,c.Tennis_M_2_M_2=!0,c.Tennis_M_2_L_2=!0,c.Tennis_L_2_L_2=!0;var d=new Object,e=new Array;for(var f in a)for(var g in a)if(f!=g){var h=a[f],i=a[g];if(null!=h&&null!=i){var j=h.SportType+"_"+h.betType+"_"+h.PeriodNumber+"_"+i.betType+"_"+i.PeriodNumber,k=i.SportType+"_"+i.betType+"_"+i.PeriodNumber+"_"+h.betType+"_"+h.PeriodNumber,l=h.selectionId+"_"+i.selectionId,m=i.selectionId+"_"+h.selectionId;void 0===d[l]&&void 0===d[m]&&(h.GameNum==i.GameNum&&void 0===b[j]&&void 0===b[k]&&(d[l]=!0,e.push([h.selectionId,i.selectionId])),h.SportType==i.SportType&&void 0===c[j]&&void 0===c[k]&&(d[l]=!0,e.push([h.selectionId,i.selectionId])))}}return e}function getIllegalTeaserCombinationErrors(a){var b=new Object;b.Basketball_S_0_S_0=!0,b.Basketball_S_0_L_0=!0,b.Basketball_L_0_L_0=!0,b.Football_S_0_S_0=!0,b.Football_S_0_L_0=!0,b.Football_L_0_L_0=!0;var c=new Object,d=new Array;for(var e in a)for(var f in a)if(e!=f){var g=a[e],h=a[f];if(null!=g&&null!=h){var i=g.SportType+"_"+g.betType+"_"+g.PeriodNumber+"_"+h.betType+"_"+h.PeriodNumber,j=h.SportType+"_"+h.betType+"_"+h.PeriodNumber+"_"+g.betType+"_"+g.PeriodNumber,k=g.selectionId+"_"+h.selectionId,l=h.selectionId+"_"+g.selectionId;void 0===c[k]&&void 0===c[l]&&g.SportType==h.SportType&&void 0===b[i]&&void 0===b[j]&&(c[k]=!0,d.push([g.selectionId,h.selectionId]))}}return d}function illegalHookupSelectionTeaserErrors(a){var b=new Array;for(var c in a){var d=a[c];"0"!=d.PeriodNumber&&b.push([d.selectionId])}return b}function getSelectionsHookupError(a){var b=new Object,c=getGameDenyErrorsHookup(a),d=getSameGameDenyErrorsHookup(a),e=illegalHookupSelectionError(a),f=illegalHookupCombinationError(a);return c.length>0&&(b.gameDenyErrors=c),d.length>0&&(b.sameGameDenyErrors=d),e.length>0&&(b.illegalHookupSelectionErrors=e),f.length>0&&(b.illegalHookupCombinationErrors=f),b}function getStraightSelectionsError(a){var b=new Array,c=new Object,d=0;for(var e in a){var f=a[e];"0"==f.isStraight&&(b.push([f.selectionId]),d++)}return d>0?(c.illegalHookupSelectionErrors=b,c):null}function getParlaySelectionsError(a){return getSelectionsHookupError(a)}function getIllegalSportsTeaserSelectionsError(a,b){var c=new Array;for(var d in a){var e=a[d];if(null!=e){var f=e.SubSportType.trim(),g=e.SportType.trim(),h=e.betType;(void 0===b.SportTypes[g]||void 0===b.SportTypes[g][h]||void 0===b.SportTypes[g][h][f]||b.SportTypes[g][h][f]<=0)&&c.push([e.selectionId])}}return c}function getSameGameTeaserSelectionsError(a){var b=new Array,c=new Object;for(var d in a){var e=a[d],f=e.GameNum;void 0!==c[f]&&b.push(e.selectionId),c[f]=!0}return b}function getTeaserSelectionsError(a,b){var c=new Object,d=siteCache.customer.teasers[_TEASER_TYPE];if(void 0!==d){var e=getIllegalSportsTeaserSelectionsError(a,d),f=getGameDenyErrorsHookup(a),g=getSameGameDenyErrorsHookup(a),h=getIllegalTeaserCombinationErrors(a),i=illegalHookupSelectionTeaserErrors(a);e.length>0&&(c.illegalSportsErrors=e),f.length>0&&(c.gameDenyErrors=f),g.length>0&&(c.sameGameError=g),h.length>0&&(c.illegalHookupCombinationErrors=h),i.length>0&&(c.illegalHookupSelectionErrors=i)}return c}function getSelectionsError(a){return"straight"==_BETSLIP_TYPE?getStraightSelectionsError(a):"parlay"==_BETSLIP_TYPE?getParlaySelectionsError(a):"rndrobin"==_BETSLIP_TYPE?getParlaySelectionsError(a):"teaser"==_BETSLIP_TYPE?getTeaserSelectionsError(a,_TEASER_TYPE):"ifbet"==_BETSLIP_TYPE?getParlaySelectionsError(a):"reverse"==_BETSLIP_TYPE?getParlaySelectionsError(a):null}var _BETSLIP_TYPE="straight",_AMOUNT_SELECTIONS_ON_BETSLIP=0,_AMOUNT_SELECTIONS_ON_BETSLIP_NO_OPEN=0,_MAX_SELECTIONS_ALLOWED={straight:15,parlay:15,rndrobin:0,teaser:0,ifbet:15,reverse:15},_MIN_SELECTIONS_ALLOWED={straight:1,parlay:2,rndrobin:2,teaser:0,ifbet:2,reverse:2},_CONTINUE_ON_PUSH_FLAG="N",_TEASER_TYPE="",_TEASER_AMOUNT="",_TEASER_AMOUNT_TYPE="",_FREE_PLAY_CHECKED="0",_LIMITS={},_ROUND_ROBIN_TYPE=2,_LIMITS_AJAX=null,_GLOBAL_RISK_AMOUNT="0",_GLOBAL_WIN_AMOUNT="0",_PARLAY_RISK="0",_ROUND_ROBIN_RISK="0",_REVERSE_AMOUNT="0",_SHOW_GLOBAL_MESSAGES=!1,_ERROR=!1,_TRIGGERED_BY="",_BETSLIP_IS_ENABLED=!1;$(window).ready(function(){$("#roundRobinSelectorWrap").hide(),$("#teaserSelectorWrap").hide(),$("#ContinueOnPushFlagWrapIfBet").hide(),$("#ContinueOnPushFlagWrapReverse").hide(),$("#betslip .betslipTypeSelector .option").unbind("click"),$("#betslip .betslipTypeSelector .option").click(function(){_BETSLIP_TYPE=$(this).attr("select"),updateBetSlip(),$("#txtBet").val(""),$("#riskAmount").val(""),"rndrobin"!==$(this).attr("select")?$("#placeBetWrap").css("display","block"):$("#placeBetWrap").css("display","none")}),$("#teaserSelectorModal .selectTeaser").unbind("click"),$("#teaserSelectorModal .selectTeaser").click(function(){_TEASER_TYPE=$(this).attr("teaserName"),updateBetSlip()}),$("#betslip #openTeaserSelector").unbind("click"),$("#betslip #openTeaserSelector").click(function(){$("#teaserSelectorModal").modal()});new DropDown($("#cbmBetType"));$(document).click(function(){$(".wrapper-dropdown-5").removeClass("active")}),$("#cbmBetType ul li a").unbind("click"),$("#cbmBetType ul li a").bind("click",function(a){a.preventDefault();var b=$(this).attr("data-val");$("#opSelectedetType").html(b),_BETSLIP_TYPE=b,updateBetSlip()}),setInterval(closeBalloons,2e3),updateBetSlip()}),DropDown.prototype={initEvents:function(){this.cbmBetType.on("click",function(a){$(this).toggleClass("active"),a.stopPropagation()})}};
