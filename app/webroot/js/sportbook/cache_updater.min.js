function updateDom(){$("#gameWrapLong").empty(),$("#gameWrapShort").empty(),updateGroupCategories(),updateGroupCategoriesShort(),updateSelectedGame(),updateSelectedGameShort(),setEvents(),sortElements(),addOddColorToGames(),updateCustomer()}function calculexcecutionTime(a,b){var c=(new Date).getTime(),d=c-a;console.log("Execution time "+b+": "+d)}function processCompressedData(a){if(lastCompressedData!=a){lastCompressedData=a,siteCache=JSON.parse(JXG.decompress(a)),0===siteCache.lines.games.length&&firstLoadingGamesLines&&showMessage("SAVE","No lines available at the moment",null);var b=getPriceType();siteCache.customer.PriceType=b,updateDom()}}function updateCustomer(a){a=siteCache.customer,$(".FreePlayBalance").html(formatnumeric(myRound(a.FreePlayBalance,2),2,!1)),$(".CurrentBalance").html(formatnumeric(myRound(a.CurrentBalance,2),2,!1)),$(".AvailableBalance").html(formatnumeric(myRound(a.AvailableBalance,2),2,!1)),$("#CurrentBalance, .CurrentBalance").html(formatnumeric(myRound(a.CurrentBalance,2),2,!1)),$("#AvailableBalance").html(formatnumeric(myRound(a.AvailableBalance,2),2,!1)),$("#PendingWager").html(formatnumeric(myRound(a.PendingWager,2),2,!1)),$(".PendingWagerBalance").html(formatnumeric(myRound(a.PendingWager,2),2,!1)),$("#AvailablePending").html(formatnumeric(myRound(a.PendingWager,2),2,!1)),$(".CasinoBalance").html(formatnumeric(myRound(a.CasinoBalance,2),2,!1)*-1),$(".CustomerID").html(a.CustomerID),completeCustomerInfoForBetslip()}function CalculatePriceAdj(){var a="Spread",b=3.5,c=115,d=a.substring(0,1),e=0,f=0,g=0,h=0,i=0,j=0,k="N";"S"==a.substring(0,1)?(e=10,f=2,g=20,h=20,i=10,j=10):(e=10,f=2,g=10,h=10,i=10,j=10);var l=0,m=c;if(m<0&&(m*=-1),"Y"==k);else for(var n=.5;n<=m;n+=.5)switch(d){case"L":l+=e;break;case"S":l+=b+n==3||b+n==-3?g:b+n-.5==3||b+n-.5==-3?h:b+n==7||b+n==-7?i:b+n-.5==7||b+n-.5==-7?j:e}return l}function CreateBuyPointsOption(){var d,e,f,a=3.5,b=115,c="Spread",g="<SELECT id=";g+=e,g+="buyToSelect name=",g+=e,g+="buyToSelect>",g+="<OPTION VALUE=0 SELECTED>Buy no points</OPTION>";var h=0,i=0,j=0,k=0,l=0,m=0;"S"==c.substr(0,1)?(h=Session("spreadBuy"),i=Session("spreadBuyMax"),j=Session("spreadBuyOn3"),k=Session("spreadBuyOff3"),l=Session("spreadBuyOn7"),m=Session("spreadBuyOff7")):(h=Session("totalBuy"),i=Session("totalBuyMax"),j=Session("totalBuy"),k=Session("totalBuy"),l=Session("totalBuy"),m=Session("totalBuy"));for(var n=1;n<=i&&(0!==j||a+b*n!=3&&a+b*n!=-3)&&(0!==k||a+b*(n-1)!=3&&a+b*(n-1)!=-3)&&(0!==l||a+b*n!=7&&a+b*n!=-7)&&(0!==m||a+b*(n-1)!=7&&a+b*(n-1)!=-7);n++){g+="<OPTION VALUE=",g+=b*n,g+=">Buy ",n/2>.5&&(g+=Math.floor(n/2)),n%2>0&&(g+="&frac12"),g+=n>2?" points to ":" point to ";var o=!0,p=!0;"L"==c.substr(0,1)&&(o=!1,p=!1),g+=AdjustLine(a,b*n,p,o),g+=" for ";var q=CalculatePriceAdj(a,b*n,c,f),r=d-q;d>0&&r<100&&(r-=200),r>0&&(g+="+"),g+=r,g+="</OPTION>"}g+="</SELECT>",Response.Write(g)}function newSorter(a,b){$.each(a,function(a,c){$(c).find(b).sort(function(a,b){return+a.dataset.order-+b.dataset.order}).appendTo($(c))})}function loadFullGamesData(a){if(null===selectedGameNum){var b=getCookie("selectedCategories").slice(1,getCookie("selectedCategories").length-1).length,c=$("body"),d=c.attr("class");if(b>0){$("#overviewWrap, #gameWrap, #wagersReportWrap, #balanceReportWrap, #accountHistoryReportWrap, #accountSportbook").hide(),$("#userbar").css("display","block !important"),void 0===a&&"auto"!==a&&$("#loading").css("display","block"),loadingFullGamesData=!0;var e=getPeriods();console.log("periods::: "+e);try{var f={period:e,sizeBody:d};$.ajax({url:"/Sportbook/getsitecachecompresed",type:"POST",data:f,cache:!1}).done(function(a){$("#groupsWrap").show(),$("#groupsWrapLong").html(a),assignEventOdds(),setEvents(),assignEventPeriod(),updateBetSlip("sportbook")}).error(function(){}).always(function(){loadingFullGamesData=!1,firstLoadingLines=!0,void 0===a&&"auto"!==a&&$("#loading").css("display","none"),"function"==typeof a&&a()})}catch(b){console.log(b),void 0===a&&"auto"!==a&&$("#loading").css("display","none")}}}}function verifyBetslipSelectionsChange(){var a=getLastTimeBetslipChange();""!==a&&lastTimeBetslipChange<parseInt(a)&&(lastTimeBetslipChange=a,updateDom())}function loadSellBuyPoints(){$.ajax({url:"/Sportbook/getUserPoints",type:"POST",data:{},cache:!1,dataType:"JSON"}).done(function(a){_BUY_SELL_POINTS=a})}function debugCalls(a){return}var lastUpdateDomTime=null,_SPORT_CATEGORIES_HAS_CHANGED=!1,_SELECTED_GAME=!1,siteCache={},cacheUpdateInterval=6e4,lastCompressedData=null,loadingFullGamesData=!1,firstLoadingGamesLines=!1;$(document).ready(function(){siteCache.customer=_CUSTOMER_INFO;var a=getPriceType();siteCache.customer.PriceType=a,getInfoCustomer(),updateCustomer(),loadOverview(),/*loadSellBuyPoints(),*/setEvents()});var _BUY_SELL_POINTS={};